
# 文档元素


## 图片



## 表格



## 主题

对于 rmarkdown 包提供的 HTML 输出格式，我们可以用 YAML 元数据中的 `theme` 选项设置输出的外观主题。

```
--- 
output:
  html_document:
    toc: true
    theme: united
---
```

一个主题包含了一系列配色，字体，布局等设置。图 


```{r, echo = FALSE}
import_example_result("examples/theme-united.Rmd")
```



可选的主题包括 `united`, `journal`, `flatly` 等 。这些名字来自 UI 框架 bootstrap 的主题扩展 [bootswatch](https://bootswatch.com/)。R Markdown 的默认 HTML 输出格式基于 bootstrap 库，而 bootswatch 提供了一系列扩展主题。读者可以在 bootswatch 网站上看到每个主题的效果。Andrew Zieffler 在[博客](https://www.datadreaming.org/post/r-markdown-theme-gallery/)中同样列举了所有主题的效果。

```{r boots-theme, fig.cap = "bootswatch 网站", echo = FALSE}
knitr::include_graphics("images/04-bootswatch.jpg")
```

除了 `theme` 提供的主题选择之外，读者还可以使用其他包提供的 R Markdown 模板。一个例子是 [prettydoc](https://github.com/yixuan/prettydoc) 包，


```{r, echo = FALSE}
import_example_result("examples/prettydoc.Rmd")
```



一些类似提供 R Markdow 模板的包包括 [rmdformats](https://github.com/juba/rmdformats)，[tufte](https://github.com/rstudio/tufte)，[rtciles](https://github.com/rstudio/rticles) (PDF) 等。




## 交叉引用 {#cross-reference}

交叉引用 (cross-reference) 可以为读者提供锚点链接，便于他们快速浏览文档中相关部分。为了使用交叉引用，我们需要

- 支持交叉引用的格式：交叉引用不是 R Markdown 问世时就具备的功能，rmarkdown 包中的 `html_document`, `pdf_document` 等格式不能支持。我们可以使用 bookdown 包中的"增强版本"：`bookdown::html_document2` 和 `bookdown::pdf_document2` 等。

- 标签 (label）：对于章节，我们可以使用 Pandoc 生成或设置标签。对于图片和表格，需要设置代码块的标签，并有标题 (caption)

随后，我们可以用 `\@ref(label)` 引用章节，用 `\@ref(fig:label)` 引用图片，用 `\@ref(tab:label)` 表格。例如下面的源文档

`r import_example("examples/cross-reference.Rmd")`


输出结果为

```{r, echo = FALSE}
import_example_result("examples/cross-reference.Rmd")
```



点开对应的 HTML 文档，读者可以发现设置了标签的元素有对应的`id`属性，这也是交叉引用的跳转基础。对于英文标题，Pandoc 会自动设置一个标签。例如 `# Hello World` 对应的标签为 `hello-world`。对中文标题，我们建议在需要时手动设置一个简洁的英文标签，仅包含英文字母和连字符。

## 章节编号和

绝大多数输出格式在 YAML 元数据中支持 `number_sections` 属性，值为 `true` 时，各章节标题按照层级自动编号。

我们可以用 Pandoc 的标题属性 `.unnumbered` 省略某个章节的编号，见 <https://pandoc.org/MANUAL.html#extension-header_attributes>。


`r import_example("examples/pandoc-attributes.Rmd")`


以上文档输出为 


```{r}
import_example_result("examples/pandoc-attributes.Rmd")
```




## 目录

## 文献参考和引用


### 引用 R 包

## 插入示意图


## 可切换标签页

