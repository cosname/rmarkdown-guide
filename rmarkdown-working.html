<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>第 4 章 基于 R Markdown 工作与学习 | R Markdown 指南</title>
  <meta name="description" content="第 4 章 基于 R Markdown 工作与学习 | R Markdown 指南" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="第 4 章 基于 R Markdown 工作与学习 | R Markdown 指南" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="第 4 章 基于 R Markdown 工作与学习 | R Markdown 指南" />
  <meta name="github-repo" content="cosname/rmarkdown-guide" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="第 4 章 基于 R Markdown 工作与学习 | R Markdown 指南" />
  
  <meta name="twitter:description" content="第 4 章 基于 R Markdown 工作与学习 | R Markdown 指南" />
  

<meta name="author" content="高春辉" />
<meta name="author" content="王祎帆" />
<meta name="author" content="闫求识" />
<meta name="author" content="庄亮亮" />
<meta name="author" content="杨晓龙" />


<meta name="date" content="2022-12-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rmarkdown-document.html"/>
<link rel="next" href="rmarkdown-interaction.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.9/grViz.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Markdown 中文指南</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>前言</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#为什么要写这样一本书"><i class="fa fa-check"></i><b>0.1</b> 为什么要写这样一本书？</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#本书是怎么写出来的"><i class="fa fa-check"></i><b>0.2</b> 本书是怎么写出来的？</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#本书的创作理念是什么"><i class="fa fa-check"></i><b>0.3</b> 本书的创作理念是什么？</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#本书主要有哪些内容"><i class="fa fa-check"></i><b>0.4</b> 本书主要有哪些内容？</a></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#阅读本书时的注意事项"><i class="fa fa-check"></i><b>0.5</b> 阅读本书时的注意事项</a></li>
</ul></li>
<li class="part"><span><b>I 初识 R Markdown</b></span></li>
<li class="chapter" data-level="1" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html"><i class="fa fa-check"></i><b>1</b> R Markdown概述</a>
<ul>
<li class="chapter" data-level="1.1" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#rmarkdown-source"><i class="fa fa-check"></i><b>1.1</b> R Markdown 的渊源</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#r-markdown-literate-programming"><i class="fa fa-check"></i><b>1.1.1</b> R Markdown 与文学化编程</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#rmarkdown-example"><i class="fa fa-check"></i><b>1.2</b> 以案例形式初识 R Markdown</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-report"><i class="fa fa-check"></i><b>1.2.1</b> 数据分析报告</a></li>
<li class="chapter" data-level="1.2.2" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-note"><i class="fa fa-check"></i><b>1.2.2</b> 交互笔记本</a></li>
<li class="chapter" data-level="1.2.3" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-cv"><i class="fa fa-check"></i><b>1.2.3</b> 个人简历</a></li>
<li class="chapter" data-level="1.2.4" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-resume"><i class="fa fa-check"></i><b>1.2.4</b> 网站</a></li>
<li class="chapter" data-level="1.2.5" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-ppt"><i class="fa fa-check"></i><b>1.2.5</b> 幻灯片</a></li>
<li class="chapter" data-level="1.2.6" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-forms"><i class="fa fa-check"></i><b>1.2.6</b> 交互报表</a></li>
<li class="chapter" data-level="1.2.7" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-dynamic"><i class="fa fa-check"></i><b>1.2.7</b> 动态文档</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html"><i class="fa fa-check"></i><b>2</b> R Markdown 的基础知识</a>
<ul>
<li class="chapter" data-level="2.1" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#rstudio-config"><i class="fa fa-check"></i><b>2.1</b> 安装 RStudio</a></li>
<li class="chapter" data-level="2.2" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#install-rmarkdown"><i class="fa fa-check"></i><b>2.2</b> 安装 rmarkdown 包</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#install-tinytex"><i class="fa fa-check"></i><b>2.2.1</b> 安装 TinyTex</a></li>
<li class="chapter" data-level="2.2.2" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#install-git"><i class="fa fa-check"></i><b>2.2.2</b> 安装 Git (*)</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#rmarkdown-element"><i class="fa fa-check"></i><b>2.3</b> R Markdown 的基本元素</a></li>
<li class="chapter" data-level="2.4" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#rmarkdown-compile"><i class="fa fa-check"></i><b>2.4</b> R Markdown 的编译过程和组成元素</a></li>
<li class="chapter" data-level="2.5" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#yaml"><i class="fa fa-check"></i><b>2.5</b> YAML 头部</a></li>
<li class="chapter" data-level="2.6" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#markdown-syntax"><i class="fa fa-check"></i><b>2.6</b> Markdown 语法</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#简单段内格式"><i class="fa fa-check"></i><b>2.6.1</b> 简单段内格式</a></li>
<li class="chapter" data-level="2.6.2" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#换行"><i class="fa fa-check"></i><b>2.6.2</b> 换行</a></li>
<li class="chapter" data-level="2.6.3" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#段落格式"><i class="fa fa-check"></i><b>2.6.3</b> 段落格式</a></li>
<li class="chapter" data-level="2.6.4" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#markdown-code"><i class="fa fa-check"></i><b>2.6.4</b> 代码块</a></li>
<li class="chapter" data-level="2.6.5" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#markdown-figure"><i class="fa fa-check"></i><b>2.6.5</b> 图片</a></li>
<li class="chapter" data-level="2.6.6" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#markdown-table"><i class="fa fa-check"></i><b>2.6.6</b> 表格</a></li>
<li class="chapter" data-level="2.6.7" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#数学公式"><i class="fa fa-check"></i><b>2.6.7</b> 数学公式</a></li>
<li class="chapter" data-level="2.6.8" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#总结"><i class="fa fa-check"></i><b>2.6.8</b> 总结</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#code-block-and-inline"><i class="fa fa-check"></i><b>2.7</b> 代码块和行内代码</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#代码块选项"><i class="fa fa-check"></i><b>2.7.1</b> 代码块选项</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#document-element"><i class="fa fa-check"></i><b>2.8</b> 文档元素</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-figure"><i class="fa fa-check"></i><b>2.8.1</b> 图片</a></li>
<li class="chapter" data-level="2.8.2" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-table"><i class="fa fa-check"></i><b>2.8.2</b> 表格</a></li>
<li class="chapter" data-level="2.8.3" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#page-break"><i class="fa fa-check"></i><b>2.8.3</b> 分页符和分割线</a></li>
<li class="chapter" data-level="2.8.4" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#toc"><i class="fa fa-check"></i><b>2.8.4</b> 目录</a></li>
<li class="chapter" data-level="2.8.5" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#bibliography"><i class="fa fa-check"></i><b>2.8.5</b> 参考文献</a></li>
<li class="chapter" data-level="2.8.6" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#引用-r-包"><i class="fa fa-check"></i><b>2.8.6</b> 引用 R 包</a></li>
<li class="chapter" data-level="2.8.7" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#cross-reference"><i class="fa fa-check"></i><b>2.8.7</b> 交叉引用</a></li>
<li class="chapter" data-level="2.8.8" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#index"><i class="fa fa-check"></i><b>2.8.8</b> 索引</a></li>
<li class="chapter" data-level="2.8.9" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#动画"><i class="fa fa-check"></i><b>2.8.9</b> 动画</a></li>
<li class="chapter" data-level="2.8.10" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-widget"><i class="fa fa-check"></i><b>2.8.10</b> 交互组件</a></li>
<li class="chapter" data-level="2.8.11" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-media"><i class="fa fa-check"></i><b>2.8.11</b> 音频和视频</a></li>
<li class="chapter" data-level="2.8.12" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-digram"><i class="fa fa-check"></i><b>2.8.12</b> 流程图</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#rstudio-图形化编辑器"><i class="fa fa-check"></i><b>2.9</b> RStudio 图形化编辑器</a></li>
</ul></li>
<li class="part"><span><b>II 基于 R Markdown 的应用</b></span></li>
<li class="chapter" data-level="3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html"><i class="fa fa-check"></i><b>3</b> 使用 R Markdown 创建常用文档</a>
<ul>
<li class="chapter" data-level="3.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#rmarkdown-html"><i class="fa fa-check"></i><b>3.1</b> HTML 文档</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#html-title"><i class="fa fa-check"></i><b>3.1.1</b> 目录和标题</a></li>
<li class="chapter" data-level="3.1.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#html-theme"><i class="fa fa-check"></i><b>3.1.2</b> 主题和样式</a></li>
<li class="chapter" data-level="3.1.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#html-pic"><i class="fa fa-check"></i><b>3.1.3</b> 图片和数据框</a></li>
<li class="chapter" data-level="3.1.4" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#html-module"><i class="fa fa-check"></i><b>3.1.4</b> 组件和内容</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#rmarkdown-pdf"><i class="fa fa-check"></i><b>3.2</b> PDF 文档</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-rmd"><i class="fa fa-check"></i><b>3.2.1</b> 从 R Markdown 到 PDF 文档</a></li>
<li class="chapter" data-level="3.2.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-chinese"><i class="fa fa-check"></i><b>3.2.2</b> 在 PDF 文档中使用中文的注意事项</a></li>
<li class="chapter" data-level="3.2.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-general-setting"><i class="fa fa-check"></i><b>3.2.3</b> 与 HTML 文档相通的设置</a></li>
<li class="chapter" data-level="3.2.4" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-latex"><i class="fa fa-check"></i><b>3.2.4</b> LaTeX 选项</a></li>
<li class="chapter" data-level="3.2.5" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-latex-citation"><i class="fa fa-check"></i><b>3.2.5</b> 使用 LaTeX 包处理参考文献</a></li>
<li class="chapter" data-level="3.2.6" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-latex-engine"><i class="fa fa-check"></i><b>3.2.6</b> LaTeX 的渲染引擎</a></li>
<li class="chapter" data-level="3.2.7" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-keep-tex"><i class="fa fa-check"></i><b>3.2.7</b> 保留生成的 TeX 中间文件</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#rmarkdown-ppt"><i class="fa fa-check"></i><b>3.3</b> PPT 幻灯片</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#ioslides-presentation"><i class="fa fa-check"></i><b>3.3.1</b> ioslides 幻灯片</a></li>
<li class="chapter" data-level="3.3.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#slidy-presentation"><i class="fa fa-check"></i><b>3.3.2</b> Slidy 幻灯片</a></li>
<li class="chapter" data-level="3.3.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#beamer-presentation"><i class="fa fa-check"></i><b>3.3.3</b> Beamer 幻灯片</a></li>
<li class="chapter" data-level="3.3.4" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#powerpoint-presentation"><i class="fa fa-check"></i><b>3.3.4</b> PowerPoint 幻灯片</a></li>
<li class="chapter" data-level="3.3.5" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#ppt-xaringan"><i class="fa fa-check"></i><b>3.3.5</b> Xaringan 幻灯片</a></li>
<li class="chapter" data-level="3.3.6" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#xaringan-extension"><i class="fa fa-check"></i><b>3.3.6</b> Xaringan 幻灯片的扩展包</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#rmarkdown-word"><i class="fa fa-check"></i><b>3.4</b> Word 文档</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#word-template"><i class="fa fa-check"></i><b>3.4.1</b> 创建 word 模板</a></li>
<li class="chapter" data-level="3.4.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#word-custom-template"><i class="fa fa-check"></i><b>3.4.2</b> 自定义 Word 模板</a></li>
<li class="chapter" data-level="3.4.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#word-rmd"><i class="fa fa-check"></i><b>3.4.3</b> R Markdown 和 Word 之间的双向工作流程</a></li>
<li class="chapter" data-level="3.4.4" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#word-style"><i class="fa fa-check"></i><b>3.4.4</b> 个人风格元素</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#rmarkdown-new"><i class="fa fa-check"></i><b>3.5</b> 创建新的文档格式</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#new-existing"><i class="fa fa-check"></i><b>3.5.1</b> 从现有文档格式衍生新格式</a></li>
<li class="chapter" data-level="3.5.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#new-new"><i class="fa fa-check"></i><b>3.5.2</b> 自定义输出格式</a></li>
<li class="chapter" data-level="3.5.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#new-using"><i class="fa fa-check"></i><b>3.5.3</b> 使用新的文档输出格式</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html"><i class="fa fa-check"></i><b>4</b> 基于 R Markdown 工作与学习</a>
<ul>
<li class="chapter" data-level="4.1" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-email"><i class="fa fa-check"></i><b>4.1</b> 发邮件：<code>blastula</code></a></li>
<li class="chapter" data-level="4.2" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-package"><i class="fa fa-check"></i><b>4.2</b> 制作 R 包：<code>fusen</code></a></li>
<li class="chapter" data-level="4.3" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-cv"><i class="fa fa-check"></i><b>4.3</b> 制作简历：<code>datadrivencv</code></a></li>
<li class="chapter" data-level="4.4" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-bookdown"><i class="fa fa-check"></i><b>4.4</b> 写书和记学习笔记：<code>bookdown</code></a></li>
<li class="chapter" data-level="4.5" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-blogdown"><i class="fa fa-check"></i><b>4.5</b> 制作网站：<code>blogdown</code></a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#blogdown-intro"><i class="fa fa-check"></i><b>4.5.1</b> blogdown 简介</a></li>
<li class="chapter" data-level="4.5.2" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#blogdown-steps"><i class="fa fa-check"></i><b>4.5.2</b> 具体操作</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-paper"><i class="fa fa-check"></i><b>4.6</b> 制作科技论文的支撑材料</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#建议文件结构"><i class="fa fa-check"></i><b>4.6.1</b> 建议文件结构</a></li>
<li class="chapter" data-level="4.6.2" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#分析报告的正文"><i class="fa fa-check"></i><b>4.6.2</b> 分析报告的正文</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III R Markdown 进阶操作</b></span></li>
<li class="chapter" data-level="5" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html"><i class="fa fa-check"></i><b>5</b> 使用 R Markdown 创建动态交互文档</a>
<ul>
<li class="chapter" data-level="5.1" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#rmarkdown-shiny"><i class="fa fa-check"></i><b>5.1</b> Web 交互界面：Shiny 小程序</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-start"><i class="fa fa-check"></i><b>5.1.1</b> 入门指南</a></li>
<li class="chapter" data-level="5.1.2" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-deploy"><i class="fa fa-check"></i><b>5.1.2</b> Shiny 部署</a></li>
<li class="chapter" data-level="5.1.3" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-app"><i class="fa fa-check"></i><b>5.1.3</b> 嵌入 Shiny 应用程序</a></li>
<li class="chapter" data-level="5.1.4" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-widget"><i class="fa fa-check"></i><b>5.1.4</b> Shiny 小部件</a></li>
<li class="chapter" data-level="5.1.5" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-link"><i class="fa fa-check"></i><b>5.1.5</b> Shiny 文档间的链接</a></li>
<li class="chapter" data-level="5.1.6" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-render"><i class="fa fa-check"></i><b>5.1.6</b> Shiny 文档的渲染</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#rmarkdown-dashboards"><i class="fa fa-check"></i><b>5.2</b> 交互式仪表盘：Dashboards</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#dashboards-intro"><i class="fa fa-check"></i><b>5.2.1</b> Dashboards 入门</a></li>
<li class="chapter" data-level="5.2.2" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#dashboards-layout"><i class="fa fa-check"></i><b>5.2.2</b> Dashboards 排版</a></li>
<li class="chapter" data-level="5.2.3" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#dashboards-module"><i class="fa fa-check"></i><b>5.2.3</b> Dashboards 组件</a></li>
<li class="chapter" data-level="5.2.4" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#dashboards-shiny"><i class="fa fa-check"></i><b>5.2.4</b> Dashboards 与 Shiny</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#package-rmd"><i class="fa fa-check"></i><b>5.3</b> 在 R package 中使用 R Markdown</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#rmd-vignettes"><i class="fa fa-check"></i><b>5.3.1</b> 写软件包的文档</a></li>
<li class="chapter" data-level="5.3.2" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#package-template"><i class="fa fa-check"></i><b>5.3.2</b> R 包中的 R Markdown 模板</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html"><i class="fa fa-check"></i><b>6</b> R Markdown 的操作技巧</a>
<ul>
<li class="chapter" data-level="6.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#table-advanced"><i class="fa fa-check"></i><b>6.1</b> 表格操作进阶</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#table-complex"><i class="fa fa-check"></i><b>6.1.1</b> 利用函数 <code>knitr::kable()</code> 生成复杂的表格</a></li>
<li class="chapter" data-level="6.1.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#kable-extra"><i class="fa fa-check"></i><b>6.1.2</b> 利用 <strong>kableExtra</strong> 美化表格</a></li>
<li class="chapter" data-level="6.1.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#else-table"><i class="fa fa-check"></i><b>6.1.3</b> 其它表格包</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-options"><i class="fa fa-check"></i><b>6.2</b> 块选项</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-variable"><i class="fa fa-check"></i><b>6.2.1</b> 在块选项中使用变量</a></li>
<li class="chapter" data-level="6.2.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-error"><i class="fa fa-check"></i><b>6.2.2</b> 允许错误</a></li>
<li class="chapter" data-level="6.2.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-output"><i class="fa fa-check"></i><b>6.2.3</b> 控制输出</a></li>
<li class="chapter" data-level="6.2.4" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-reformat"><i class="fa fa-check"></i><b>6.2.4</b> 自动格式化源代码</a></li>
<li class="chapter" data-level="6.2.5" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-leading"><i class="fa fa-check"></i><b>6.2.5</b> 调整文本输出中的前导符号</a></li>
<li class="chapter" data-level="6.2.6" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-attr"><i class="fa fa-check"></i><b>6.2.6</b> 为代码块添加属性 (*)</a></li>
<li class="chapter" data-level="6.2.7" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-multiplot"><i class="fa fa-check"></i><b>6.2.7</b> 同一张图的多种图像输出格式</a></li>
<li class="chapter" data-level="6.2.8" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-process"><i class="fa fa-check"></i><b>6.2.8</b> 图像的后期加工 (*)</a></li>
<li class="chapter" data-level="6.2.9" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-highquality"><i class="fa fa-check"></i><b>6.2.9</b> 输出高质量的图像 (*)</a></li>
<li class="chapter" data-level="6.2.10" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-step-plot"><i class="fa fa-check"></i><b>6.2.10</b> 带有低级绘图功能的逐步绘图 (*)</a></li>
<li class="chapter" data-level="6.2.11" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-print"><i class="fa fa-check"></i><b>6.2.11</b> 在代码块中自定义对象的打印格式 (*)</a></li>
<li class="chapter" data-level="6.2.12" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#option-hook"><i class="fa fa-check"></i><b>6.2.12</b> 选项钩子 (*)</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#other-language"><i class="fa fa-check"></i><b>6.3</b> 结合其他语言</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#register-language"><i class="fa fa-check"></i><b>6.3.1</b> 注册自定义语言引擎 (*)</a></li>
<li class="chapter" data-level="6.3.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#python-rmd"><i class="fa fa-check"></i><b>6.3.2</b> 运行 Python 代码并与 Python 交互</a></li>
<li class="chapter" data-level="6.3.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-asis"><i class="fa fa-check"></i><b>6.3.3</b> 通过 <code>asis</code> 引擎有条件地执行内容</a></li>
<li class="chapter" data-level="6.3.4" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-shell"><i class="fa fa-check"></i><b>6.3.4</b> 执行 Shell 脚本</a></li>
<li class="chapter" data-level="6.3.5" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#cat-file"><i class="fa fa-check"></i><b>6.3.5</b> 通过 cat 引擎将代码块内容写入文件</a></li>
<li class="chapter" data-level="6.3.6" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#sas-rmd"><i class="fa fa-check"></i><b>6.3.6</b> 运行 SAS 代码</a></li>
<li class="chapter" data-level="6.3.7" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#stata-rmd"><i class="fa fa-check"></i><b>6.3.7</b> 运行 Stata 代码</a></li>
<li class="chapter" data-level="6.3.8" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#asymptote-plot"><i class="fa fa-check"></i><b>6.3.8</b> 用渐近线 Asymptote 创建图形</a></li>
<li class="chapter" data-level="6.3.9" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#sass-scss"><i class="fa fa-check"></i><b>6.3.9</b> 使用 Sass/SCSS 构建 HTML 页面</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#output-hook"><i class="fa fa-check"></i><b>6.4</b> 输出钩子 (*)</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#edit-source"><i class="fa fa-check"></i><b>6.4.1</b> 编辑源代码</a></li>
<li class="chapter" data-level="6.4.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#source-index"><i class="fa fa-check"></i><b>6.4.2</b> 向源代码中添加行号</a></li>
<li class="chapter" data-level="6.4.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#scrollable-output"><i class="fa fa-check"></i><b>6.4.3</b> 为长文本添加滚动条</a></li>
<li class="chapter" data-level="6.4.4" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#truncated-output"><i class="fa fa-check"></i><b>6.4.4</b> 截断文本输出</a></li>
<li class="chapter" data-level="6.4.5" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#html5-plot"><i class="fa fa-check"></i><b>6.4.5</b> 以 HTML5 格式输出图像</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#cache"><i class="fa fa-check"></i><b>6.5</b> 缓存 (*)</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-cache"><i class="fa fa-check"></i><b>6.5.1</b> 缓存耗时的代码块</a></li>
<li class="chapter" data-level="6.5.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#cache-path"><i class="fa fa-check"></i><b>6.5.2</b> 为多种输出格式缓存代码块</a></li>
<li class="chapter" data-level="6.5.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#cache-lazy"><i class="fa fa-check"></i><b>6.5.3</b> 缓存大型的对象</a></li>
<li class="chapter" data-level="6.5.4" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#cache-rds"><i class="fa fa-check"></i><b>6.5.4</b> 基于 <code>cache_rds()</code> 的缓存</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#other-trick"><i class="fa fa-check"></i><b>6.6</b> 其它使用 knitr 的小技巧 (*)</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#reuse-chunk"><i class="fa fa-check"></i><b>6.6.1</b> 重复使用代码块</a></li>
<li class="chapter" data-level="6.6.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#use-creat"><i class="fa fa-check"></i><b>6.6.2</b> 在创建对象之前使用它 (*)</a></li>
<li class="chapter" data-level="6.6.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#compile-exit"><i class="fa fa-check"></i><b>6.6.3</b> 提前退出编译</a></li>
<li class="chapter" data-level="6.6.4" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#plot-show-else"><i class="fa fa-check"></i><b>6.6.4</b> 控制图像显示位置</a></li>
<li class="chapter" data-level="6.6.5" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#modify-before"><i class="fa fa-check"></i><b>6.6.5</b> 修改之前代码块中的图像</a></li>
<li class="chapter" data-level="6.6.6" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#reuse-option"><i class="fa fa-check"></i><b>6.6.6</b> 复用块选项 (*)</a></li>
<li class="chapter" data-level="6.6.7" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#knit-expand"><i class="fa fa-check"></i><b>6.6.7</b> 使用 <code>knitr::knit_expand()</code> 来生成 Rmd 源代码</a></li>
<li class="chapter" data-level="6.6.8" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#repeat-label"><i class="fa fa-check"></i><b>6.6.8</b> 重复代码块标签 (*)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html"><i class="fa fa-check"></i><b>7</b> 使用 R Markdown 开展项目工作</a>
<ul>
<li class="chapter" data-level="7.1" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#project-manage"><i class="fa fa-check"></i><b>7.1</b> 使用 R Markdown 在工作中管理项目</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#external-r"><i class="fa fa-check"></i><b>7.1.1</b> 来自外部的 R 脚本</a></li>
<li class="chapter" data-level="7.1.2" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#external-read"><i class="fa fa-check"></i><b>7.1.2</b> 将外部脚本读取到一个块中</a></li>
<li class="chapter" data-level="7.1.3" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#external-multi"><i class="fa fa-check"></i><b>7.1.3</b> 从外部脚本读取多个代码块 (*)</a></li>
<li class="chapter" data-level="7.1.4" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#child-document"><i class="fa fa-check"></i><b>7.1.4</b> 子文档 (*)</a></li>
<li class="chapter" data-level="7.1.5" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#keep-plot"><i class="fa fa-check"></i><b>7.1.5</b> 保留图像文件</a></li>
<li class="chapter" data-level="7.1.6" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#chunk-directory"><i class="fa fa-check"></i><b>7.1.6</b> R 代码块的工作目录</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#work-flow"><i class="fa fa-check"></i><b>7.2</b> 使用 R Markdown 实现工作流</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#rstudio-shortcut"><i class="fa fa-check"></i><b>7.2.1</b> 使用 RStudio 键盘快捷键</a></li>
<li class="chapter" data-level="7.2.2" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#spell-check"><i class="fa fa-check"></i><b>7.2.2</b> R Markdown 的拼写检查</a></li>
<li class="chapter" data-level="7.2.3" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#render-rmd"><i class="fa fa-check"></i><b>7.2.3</b> 用 <code>rmarkdown::render()</code> 呈现 R Markdown</a></li>
<li class="chapter" data-level="7.2.4" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#parameterized-reports"><i class="fa fa-check"></i><b>7.2.4</b> 参数化的报告</a></li>
<li class="chapter" data-level="7.2.5" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#customize-button"><i class="fa fa-check"></i><b>7.2.5</b> 自定义 <code>Knit</code> 按钮 (*)</a></li>
<li class="chapter" data-level="7.2.6" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#google-drive"><i class="fa fa-check"></i><b>7.2.6</b> 通过 Google Drive 对 Rmd 文档进行协作</a></li>
<li class="chapter" data-level="7.2.7" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#workflowr-web"><i class="fa fa-check"></i><b>7.2.7</b> 用 <code>workflowr</code> 将 R Markdown 项目组织到一个研究网站上</a></li>
<li class="chapter" data-level="7.2.8" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#github-actions"><i class="fa fa-check"></i><b>7.2.8</b> 使用 GitHub Actions 实现自动化部署</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>参考文献</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">本书由 bookdown 强力驱动</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Markdown 指南</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rmarkdown-working" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">第 4 章</span> 基于 R Markdown 工作与学习<a href="rmarkdown-working.html#rmarkdown-working" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="rmarkdown-email" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> 发邮件：<code>blastula</code><a href="rmarkdown-working.html#rmarkdown-email" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>使用者有的时候可能需要批量发送定制版邮件，有些软件提供了相应选项，利用 R Markdown 也可以实现这一功能。具体而言，借助 <code>blastula</code> 包 <span class="citation">(<a href="#ref-R-blastula" role="doc-biblioref"><strong>R-blastula?</strong></a>)</span>，可以将 R Markdown 文档呈现在电子邮件正文并发送电子邮件。要将 R Markdown 文档呈现到电子邮件中，需要在文档中使用输出格式 <code>blastula::blastula_email</code>，例如：</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb223-1"><a href="rmarkdown-working.html#cb223-1" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb223-2"><a href="rmarkdown-working.html#cb223-2" aria-hidden="true" tabindex="-1"></a>title: 周报</span>
<span id="cb223-3"><a href="rmarkdown-working.html#cb223-3" aria-hidden="true" tabindex="-1"></a>output: blastula::blastula_email</span>
<span id="cb223-4"><a href="rmarkdown-working.html#cb223-4" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb223-5"><a href="rmarkdown-working.html#cb223-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb223-6"><a href="rmarkdown-working.html#cb223-6" aria-hidden="true" tabindex="-1"></a>尊敬的客户，</span>
<span id="cb223-7"><a href="rmarkdown-working.html#cb223-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb223-8"><a href="rmarkdown-working.html#cb223-8" aria-hidden="true" tabindex="-1"></a>以下是对 `iris` 数据的分析：</span>
<span id="cb223-9"><a href="rmarkdown-working.html#cb223-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb223-10"><a href="rmarkdown-working.html#cb223-10" aria-hidden="true" tabindex="-1"></a>```{r}</span>
<span id="cb223-11"><a href="rmarkdown-working.html#cb223-11" aria-hidden="true" tabindex="-1"></a>summary(iris)</span>
<span id="cb223-12"><a href="rmarkdown-working.html#cb223-12" aria-hidden="true" tabindex="-1"></a>plot(iris[, -5])</span>
<span id="cb223-13"><a href="rmarkdown-working.html#cb223-13" aria-hidden="true" tabindex="-1"></a>```</span>
<span id="cb223-14"><a href="rmarkdown-working.html#cb223-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb223-15"><a href="rmarkdown-working.html#cb223-15" aria-hidden="true" tabindex="-1"></a>若感兴趣请及时回复。</span>
<span id="cb223-16"><a href="rmarkdown-working.html#cb223-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb223-17"><a href="rmarkdown-working.html#cb223-17" aria-hidden="true" tabindex="-1"></a>祝好，</span>
<span id="cb223-18"><a href="rmarkdown-working.html#cb223-18" aria-hidden="true" tabindex="-1"></a>张三</span></code></pre></div>
<p>这个将 R Markdown 文档会通过函数 <code>blastula::render_email()</code> 来呈现，输出将被传递给 <code>blastula::smtp_send()</code>，它将发送电子邮件。需要注意的是，<code>smtp_send()</code> 需要一个电子邮件服务器和使用者的凭证（credentials）。</p>
<p>如果使用 RStudio Connect，还可以 在https://solutions.rstudio.com/examples/blastula-overview/ 上找到更多的例子，包括自动的、有条件的和参数化的电子邮件。</p>
</div>
<div id="rmarkdown-package" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> 制作 R 包：<code>fusen</code><a href="rmarkdown-working.html#rmarkdown-package" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R 语言的日常使用离不开 R 包，而对于很多使用者来说，亲手制作 R 包无疑是一项有趣的工作，它不仅可以封装一些自己常用的函数，大大加速日常的工作，还可以将自己的创意通过 GitHub 或者 CRAN 发布，让更多的人了解并使用，从而给自己带来极大的成就感，甚至于获得实质性的成就<a href="#fn25" class="footnote-ref" id="fnref25"><sup>25</sup></a>。</p>
<p>相信有着很多制作 R 包经验的使用者都被其繁琐的制作流程所困扰。通常情况下，制作一个 R 包需要完成如下几个内容：</p>
<ul>
<li>R 函数</li>
<li>函数注释</li>
<li>函数示例</li>
<li>DESCRIPTION 文件</li>
<li>NAMESPACE 文件</li>
<li>vignette 文档（可选）</li>
</ul>
<p>很多高级开发人员厌倦了在 R 文件、测试文件、vignette 文件之间频繁切换，特别是在更改函数参数的时候，开发者需要更改示例，并在多个地方进行单元测试，很容易漏了某一个地方。而使用 <code>fusen</code> <span class="citation">(<a href="#ref-R-fusen" role="doc-biblioref"><strong>R-fusen?</strong></a>)</span> 制作 R 包则减少了这些困扰，使用者只需要在同一个文件中完成 R 包，与一个函数相关的所有内容都在一个地方，减少了遗漏的风险。</p>
<p>而对于更多未曾接触过 R 包制作的人来说，制作 R 包这个任务初听起来似乎较为复杂，会“劝退”很多人。<code>fusen</code> 则为那些以前从未写过 R 包但知道如何使用 R Markdown 的使用者提供了亲手创建 R 包的机会，这个包可以帮助他们迈出第一步。</p>
<p>使用 <code>fusen</code> 制作 R 包需要以下几个步骤：</p>
<ol style="list-style-type: decimal">
<li><p>通过 RStudio 选项 <code>File &gt; New Project &gt; New directory &gt; Package using {fusen}</code> 来创建项目；</p></li>
<li><p>选择模板：首次使用可以选择模板 <code>teaching</code>，或者直接使用函数 <code>create_fusen("path/to/new/project", template = "teaching")</code>；希望更多自定义功能的用户可以选择模板 <code>full</code>。</p></li>
<li><p>编写并运行模板内的对应内容。</p></li>
</ol>
<p>下面以 <code>teaching</code> 模板为例进行详细介绍，而 <code>full</code> 模板在 <code>teaching</code> 模板的基础上添加了诸如发布到 GitHub、包含数据文件等功能，原理上是相同的，模板内部也有详细的解释可供阅读。</p>
<p>在选择模板 <code>teaching</code> 后，会自动生成 Rmd 文件 <code>flat_teaching.Rmd</code>，其中第一个代码框为：</p>
<p>调用 <code>testthat</code> 包 <span class="citation">(<a href="#ref-R-testthat" role="doc-biblioref">Hadley Wickham 2022</a>)</span> 可以帮助使用者更好地测试代码。</p>
<p>下一个代码框可以帮助使用者对创建的包进行描述并进行授权，其中包含了标题（<code>Title</code>）、描述（<code>Description</code>）以及作者信息（<code>Authors</code>）等内容，一个简化的内容如下：</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="rmarkdown-working.html#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fill_description</span>(<span class="at">fields =</span> <span class="fu">list</span>(<span class="at">Title =</span> <span class="st">&quot;My Awesome Package&quot;</span>))</span>
<span id="cb224-2"><a href="rmarkdown-working.html#cb224-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_mit_license</span>(<span class="st">&quot;Sébastien Rochette&quot;</span>)</span></code></pre></div>
<p>接下来需要按照模板的引导来编写函数，例如模板提供了示例函数：</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb225-1"><a href="rmarkdown-working.html#cb225-1" aria-hidden="true" tabindex="-1"></a>```{r function-add_one}</span>
<span id="cb225-2"><a href="rmarkdown-working.html#cb225-2" aria-hidden="true" tabindex="-1"></a>#&#39; Add one to any value</span>
<span id="cb225-3"><a href="rmarkdown-working.html#cb225-3" aria-hidden="true" tabindex="-1"></a>#&#39;</span>
<span id="cb225-4"><a href="rmarkdown-working.html#cb225-4" aria-hidden="true" tabindex="-1"></a>#&#39; @param value A numeric value</span>
<span id="cb225-5"><a href="rmarkdown-working.html#cb225-5" aria-hidden="true" tabindex="-1"></a>#&#39;</span>
<span id="cb225-6"><a href="rmarkdown-working.html#cb225-6" aria-hidden="true" tabindex="-1"></a>#&#39; @return Numeric. value + 1</span>
<span id="cb225-7"><a href="rmarkdown-working.html#cb225-7" aria-hidden="true" tabindex="-1"></a>#&#39; @export</span>
<span id="cb225-8"><a href="rmarkdown-working.html#cb225-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-9"><a href="rmarkdown-working.html#cb225-9" aria-hidden="true" tabindex="-1"></a>add_one &lt;- function(value) {</span>
<span id="cb225-10"><a href="rmarkdown-working.html#cb225-10" aria-hidden="true" tabindex="-1"></a>  result &lt;- value + 1</span>
<span id="cb225-11"><a href="rmarkdown-working.html#cb225-11" aria-hidden="true" tabindex="-1"></a>  return(result)</span>
<span id="cb225-12"><a href="rmarkdown-working.html#cb225-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb225-13"><a href="rmarkdown-working.html#cb225-13" aria-hidden="true" tabindex="-1"></a>```</span></code></pre></div>
<p><code>add_one()</code> 函数的注释使用了 <a href="https://cran.r-project.org/web/packages/roxygen2/vignettes/roxygen2.html">roxygen</a> 语法，以 <code>#'</code> 开头的每一行代表了这个函数的一个特征，其中包括：</p>
<ul>
<li><p><code>@param</code>：函数涉及的参数，书写的格式为 <code>@param 参数 参数解释</code>，每个参数对应一个 <code>@param</code>；</p></li>
<li><p><code>@return</code>：函数输出内容的解释；</p></li>
<li><p><code>@export</code>：输出以上内容所必须的命令。</p></li>
</ul>
<p>除此之外，常用的其它参数包括：</p>
<ul>
<li><p><code>@title</code>：函数的详细名称；</p></li>
<li><p><code>@description</code>：函数功能的解释；</p></li>
<li><p><code>@details</code>：使用函数的细节；</p></li>
<li><p><code>@examples</code>：函数的示例，但是使用 <code>fusen</code> 制作 R 包时可以直接在对应函数下方添加以 <code>examples</code> 为名称的代码框：</p></li>
</ul>
<div class="sourceCode" id="cb226"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb226-1"><a href="rmarkdown-working.html#cb226-1" aria-hidden="true" tabindex="-1"></a>```{r examples-add_one}</span>
<span id="cb226-2"><a href="rmarkdown-working.html#cb226-2" aria-hidden="true" tabindex="-1"></a>add_one(12)</span>
<span id="cb226-3"><a href="rmarkdown-working.html#cb226-3" aria-hidden="true" tabindex="-1"></a>add_one(56)</span>
<span id="cb226-4"><a href="rmarkdown-working.html#cb226-4" aria-hidden="true" tabindex="-1"></a>```</span></code></pre></div>
<p>这样就会自动在其上方的函数描述中加入对应的示例。在示例后面还需要加入测试函数来确保函数可以正常运行，这里的 <code>test_that()</code> 函数就来自于一开始调用的 <code>testthat</code> 包：</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb227-1"><a href="rmarkdown-working.html#cb227-1" aria-hidden="true" tabindex="-1"></a>```{r tests-add_one}</span>
<span id="cb227-2"><a href="rmarkdown-working.html#cb227-2" aria-hidden="true" tabindex="-1"></a>test_that(&quot;add_one works&quot;, {</span>
<span id="cb227-3"><a href="rmarkdown-working.html#cb227-3" aria-hidden="true" tabindex="-1"></a>  expect_equal(add_one(12), 13)</span>
<span id="cb227-4"><a href="rmarkdown-working.html#cb227-4" aria-hidden="true" tabindex="-1"></a>  expect_equal(add_one(56), 57)</span>
<span id="cb227-5"><a href="rmarkdown-working.html#cb227-5" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb227-6"><a href="rmarkdown-working.html#cb227-6" aria-hidden="true" tabindex="-1"></a>```</span></code></pre></div>
<p>需要注意的是，如果想一个包中包含多个函数，则需要对每个函数都添加 <code>function</code>、<code>examples</code> 和 <code>tests</code> 代码框，并将其放入不同的章节中（即在模板中新添加一个以 <code>#</code> 为开头的章节，如 <code># Add two to any value</code>）。另外，由于相应功能的代码框会在名称部分加以区分，所以对于不同函数，需要在代码框名称后面添加标记，例如本节例子中的 <code>function-add_one</code>、<code>examples-add_one</code> 和 <code>tests-add_one</code>。</p>
<p>最后，需要运行以下代码来将 Rmd 文件转化成一个完整的包。</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="rmarkdown-working.html#cb228-1" aria-hidden="true" tabindex="-1"></a>fusen<span class="sc">::</span><span class="fu">inflate</span>(</span>
<span id="cb228-2"><a href="rmarkdown-working.html#cb228-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">flat_file =</span> <span class="st">&quot;dev/flat_teaching.Rmd&quot;</span>,</span>
<span id="cb228-3"><a href="rmarkdown-working.html#cb228-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">vignette_name =</span> <span class="st">&quot;Get started&quot;</span>,</span>
<span id="cb228-4"><a href="rmarkdown-working.html#cb228-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">check =</span> <span class="cn">TRUE</span></span>
<span id="cb228-5"><a href="rmarkdown-working.html#cb228-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>更多关于 <code>fusen</code> 包的细节请参见 <a href="https://github.com/ThinkR-open/fusen/" class="uri">https://github.com/ThinkR-open/fusen/</a>。</p>
</div>
<div id="rmarkdown-cv" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> 制作简历：<code>datadrivencv</code><a href="rmarkdown-working.html#rmarkdown-cv" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>无论是在找工作、申请高校，还是在制作个人网站时，简历都是必不可少的，一个形式简洁、内容丰富的简历可以让读者在短时间内了解一个人。但是在制作简历时，往往会在寻找模板、调整格式上下很多功夫，尤其是在更新简历时，往往需要进行大量的调整，甚至于从头再来。</p>
<p>就像 R Markdown 制作的初衷是帮助使用者将注意力集中于内容上一样，<code>datadrivencv</code> 包 <span class="citation">(<a href="#ref-R-datadrivencv" role="doc-biblioref"><strong>R-datadrivencv?</strong></a>)</span> 的目标也是将内容与输出分离，利用 R Markdown 的特性，可以使用相同的代码同时生成简历的交互式 HTML 以及 PDF 版本，这将大大减轻制作以及维护简历的工作量。</p>
<p>由于 <code>datadrivencv</code> 包目前没有发布到 CRAN 上，只能通过 GitHub 来下载：</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="rmarkdown-working.html#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;devtools&quot;)</span></span>
<span id="cb229-2"><a href="rmarkdown-working.html#cb229-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 可能需要安装的依赖包：remotes::install_github(&#39;mitchelloharawild/icons@v0.1.0&#39;)</span></span>
<span id="cb229-3"><a href="rmarkdown-working.html#cb229-3" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;nstrayer/datadrivencv&quot;</span>)</span></code></pre></div>
<p>使用 <code>datadrivencv</code> 包的第一步是使用 <code>use_data_driven_cv()</code> 函数：</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="rmarkdown-working.html#cb230-1" aria-hidden="true" tabindex="-1"></a>datadrivencv<span class="sc">::</span><span class="fu">use_datadriven_cv</span>(</span>
<span id="cb230-2"><a href="rmarkdown-working.html#cb230-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">full_name =</span> <span class="st">&quot;Nick Strayer&quot;</span>,</span>
<span id="cb230-3"><a href="rmarkdown-working.html#cb230-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data_location =</span> <span class="st">&quot;https://docs.google.com/spreadsheets/d/14MQICF2F8-vf8CKPF1m4lyGKO6_thG-4aSwat1e2TWc&quot;</span>,</span>
<span id="cb230-4"><a href="rmarkdown-working.html#cb230-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pdf_location =</span> <span class="st">&quot;https://github.com/nstrayer/cv/raw/master/strayer_cv.pdf&quot;</span>,</span>
<span id="cb230-5"><a href="rmarkdown-working.html#cb230-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">html_location =</span> <span class="st">&quot;nickstrayer.me/cv/&quot;</span>,</span>
<span id="cb230-6"><a href="rmarkdown-working.html#cb230-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">source_location =</span> <span class="st">&quot;https://github.com/nstrayer/cv&quot;</span></span>
<span id="cb230-7"><a href="rmarkdown-working.html#cb230-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>其中的参数有：</p>
<ul>
<li><p><code>full_name</code>：使用者的姓名；</p></li>
<li><p><code>data_location</code>：保存所有数据的电子表格的路径。可以是指向包含四种数据类型的多个工作表的谷歌工作表的 URL，也可以是指向包含四个包含必要数据的 <code>.csv</code> 文件夹的路径，例如 <code>data_location = "data/cv_data/"</code> 。这四个文件夹命名需要分别为 <code>entries.csv</code>、<code>language_skills.csv</code>、<code>text_blocks.csv</code>以及<code>contact_info.csv</code>，分别包含作者的工作经历、编程语言能力、简历不同模块的简介以及联系方式。这四个文件的模板可以从 <a href="https://github.com/cosname/rmarkdown-guide/tree/master/data/cv_data" class="uri">https://github.com/cosname/rmarkdown-guide/tree/master/data/cv_data</a> 中下载；</p></li>
<li><p><code>pdf_location</code>：发布简历 PDF 版本的网址；</p></li>
<li><p><code>html_location</code>：发布简历 HTML 版本的网址；</p></li>
<li><p><code>source_location</code>：构建简历的代码的位置，填写作者提供的 <code>https://github.com/nstrayer/cv</code> 即可。</p></li>
</ul>
<p>函数的更多细节可以通过运行 <code>?datadrivencv::use_datadriven_cv</code> 来查看。当运行这个函数时，会在当前工作目录中添加一系列文件：</p>
<ul>
<li><p><code>cv.rmd</code>：一个 R Markdown 文件，其中包含了制作简历的各个部分。可以通过编辑这个文件来满足具体的个人需求；</p></li>
<li><p><code>dd_cv.css</code>：建立在默认 <code>Pagedown</code> “resume” 模板上的一组自定义 CSS 样式，可以根据需要进行编辑；</p></li>
<li><p><code>render_cv.r</code>：同时构建 PDF 和 HTML 两种格式的简历的脚本；</p></li>
<li><p><code>cv_printing_functions.r</code>：执行将电子表格数据转换为 markdown 或 HTML 并使输出用于 PDF 打印的一系列函数。</p></li>
</ul>
<p>在得到上述四个文件，并且按照模板填写完毕相应的 <code>.csv</code> 文件夹后，用 RStudio 打开 <code>cv.rmd</code> 并点击 <code>Knit</code> 即可得到 HTML 格式的简历。如果想进一步生成 PDF 格式的简历，运行 <code>render_cv.r</code> 中的相应函数即可：</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="rmarkdown-working.html#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 编译 HTML 版本的简历</span></span>
<span id="cb231-2"><a href="rmarkdown-working.html#cb231-2" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(<span class="st">&quot;cv.rmd&quot;</span>,</span>
<span id="cb231-3"><a href="rmarkdown-working.html#cb231-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">params =</span> <span class="fu">list</span>(<span class="at">pdf_mode =</span> <span class="cn">FALSE</span>),</span>
<span id="cb231-4"><a href="rmarkdown-working.html#cb231-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">output_file =</span> <span class="st">&quot;cv.html&quot;</span>)</span>
<span id="cb231-5"><a href="rmarkdown-working.html#cb231-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-6"><a href="rmarkdown-working.html#cb231-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 编译 PDF 版本的简历到 HTML 版本中，从而可以在 HTML 版本中下载</span></span>
<span id="cb231-7"><a href="rmarkdown-working.html#cb231-7" aria-hidden="true" tabindex="-1"></a>tmp_html_cv_loc <span class="ot">&lt;-</span> fs<span class="sc">::</span><span class="fu">file_temp</span>(<span class="at">ext =</span> <span class="st">&quot;.html&quot;</span>)</span>
<span id="cb231-8"><a href="rmarkdown-working.html#cb231-8" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(<span class="st">&quot;cv.rmd&quot;</span>,</span>
<span id="cb231-9"><a href="rmarkdown-working.html#cb231-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">params =</span> <span class="fu">list</span>(<span class="at">pdf_mode =</span> <span class="cn">TRUE</span>),</span>
<span id="cb231-10"><a href="rmarkdown-working.html#cb231-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">output_file =</span> tmp_html_cv_loc)</span>
<span id="cb231-11"><a href="rmarkdown-working.html#cb231-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-12"><a href="rmarkdown-working.html#cb231-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 用 Pagedown 将 HTML 转换至 PDF，生成 PDF 文件</span></span>
<span id="cb231-13"><a href="rmarkdown-working.html#cb231-13" aria-hidden="true" tabindex="-1"></a>pagedown<span class="sc">::</span><span class="fu">chrome_print</span>(<span class="at">input =</span> tmp_html_cv_loc,</span>
<span id="cb231-14"><a href="rmarkdown-working.html#cb231-14" aria-hidden="true" tabindex="-1"></a>                       <span class="at">output =</span> <span class="st">&quot;cv.pdf&quot;</span>)</span></code></pre></div>
<p>现在这个包还存在着诸多问题，例如提供的简历模板较少、对中文的支持较差等问题，有待进一步优化，但也给了使用者更自由的空间。更多细节请参考 <a href="https://github.com/nstrayer/datadrivencv" class="uri">https://github.com/nstrayer/datadrivencv</a>。</p>
</div>
<div id="rmarkdown-bookdown" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> 写书和记学习笔记：<code>bookdown</code><a href="rmarkdown-working.html#rmarkdown-bookdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>用 R Markdown 还可以实现记笔记甚至写书的功能，本书的写作过程就是通过 R Markdown 进行，其中关键在于 <strong>bookdown</strong> 包 <span class="citation">(<a href="#ref-R-bookdown" role="doc-biblioref">Xie 2022a</a>)</span>。这个包被设计为创建由多个 R Markdown 文档组成的长篇文档。例如，如果想写一本书，可以在自己的 R Markdown 文件中编写每个章节，并使用 <strong>bookdown</strong> 将这些 R Markdown 文件编译成一本书。</p>
<p>对于 RStudio 的用户来说，最简单的开始方法是通过 <code>File -&gt; New Project -&gt; New Directory -&gt; Book Project using bookdown</code>，用 IDE 创建一个 <strong>bookdown</strong> 项目，正如图 <a href="rmarkdown-working.html#fig:bookdown-project">4.1</a> 所示。</p>
<p>如果不使用 RStudio 或者喜欢在控制台工作，也可以通过调用函数 <code>bookdown:::bookdown_skeleton('your-book-dir')</code> 产生相同的结果。</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:bookdown-project"></span>
<img src="images/bookdown-project.png" alt="在 RStudio 中创建一个 bookdown 项目。"  />
<p class="caption">
图 4.1: 在 RStudio 中创建一个 bookdown 项目。
</p>
</div>
<p>为了演示用法，下面提供了一个最小的示例，包含同一个目录中的三个文件：</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb232-1"><a href="rmarkdown-working.html#cb232-1" aria-hidden="true" tabindex="-1"></a>directory</span>
<span id="cb232-2"><a href="rmarkdown-working.html#cb232-2" aria-hidden="true" tabindex="-1"></a>  |- index.Rmd</span>
<span id="cb232-3"><a href="rmarkdown-working.html#cb232-3" aria-hidden="true" tabindex="-1"></a>  |- 01-intro.Rmd</span>
<span id="cb232-4"><a href="rmarkdown-working.html#cb232-4" aria-hidden="true" tabindex="-1"></a>  |- 02-analysis.Rmd</span></code></pre></div>
<p>下面将显示每个文件的内容并解释它们的作用：</p>
<ul>
<li><p><strong>index.Rmd</strong>:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb233-1"><a href="rmarkdown-working.html#cb233-1" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb233-2"><a href="rmarkdown-working.html#cb233-2" aria-hidden="true" tabindex="-1"></a>title: &quot;一个最小的 bookdown 项目&quot;</span>
<span id="cb233-3"><a href="rmarkdown-working.html#cb233-3" aria-hidden="true" tabindex="-1"></a>site: bookdown::bookdown_site</span>
<span id="cb233-4"><a href="rmarkdown-working.html#cb233-4" aria-hidden="true" tabindex="-1"></a>output: bookdown::gitbook</span>
<span id="cb233-5"><a href="rmarkdown-working.html#cb233-5" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb233-6"><a href="rmarkdown-working.html#cb233-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb233-7"><a href="rmarkdown-working.html#cb233-7" aria-hidden="true" tabindex="-1"></a># 前言 {-}</span>
<span id="cb233-8"><a href="rmarkdown-working.html#cb233-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb233-9"><a href="rmarkdown-working.html#cb233-9" aria-hidden="true" tabindex="-1"></a>内容</span></code></pre></div></li>
</ul>
<p>第一个文件通常被称为 <code>index.Rmd</code>。它应该是提供 YAML 前端内容的唯一 R Markdown 文件，它还应该包含一个特殊的 YAML 字段 <code>site: bookdown::bookdown_site</code>，以便 <strong>rmarkdown</strong> 知道使用 <strong>bookdown</strong> 来构建所有 R Markdown 文件，而不是呈现单个 R Markdown 文件。可以使用任何 <strong>bookdown</strong>输出格式，例如 <code>bookdown::gitbook</code>、 <code>bookdown::pdf_book</code>、 <code>bookdown::word_document2</code> 以及 <code>bookdown::epub_book</code>。</p>
<p>接下来的两个 R Markdown 文件是两个章节：</p>
<ul>
<li><p><strong>01-intro.Rmd:</strong></p>
<div class="sourceCode" id="cb234"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb234-1"><a href="rmarkdown-working.html#cb234-1" aria-hidden="true" tabindex="-1"></a># 第 1 章</span>
<span id="cb234-2"><a href="rmarkdown-working.html#cb234-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-3"><a href="rmarkdown-working.html#cb234-3" aria-hidden="true" tabindex="-1"></a>这是第 1 章。</span></code></pre></div></li>
<li><p><strong>02-analysis.Rmd</strong>:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb235-1"><a href="rmarkdown-working.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># 第 2 章</span></span>
<span id="cb235-2"><a href="rmarkdown-working.html#cb235-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb235-3"><a href="rmarkdown-working.html#cb235-3" aria-hidden="true" tabindex="-1"></a>这是第 2 章。</span></code></pre></div></li>
</ul>
<p>要呈现这些 R Markdown 文件，应该调用 <code>bookdown::render_book('index.Rmd')</code> 而不是 <code>rmarkdown::render()</code>。在底端，<strong>bookdown</strong> 在默认情况下会将所有 R Markdown 文件合并为单个 R Markdown 并编译它。文件按字母顺序合并。这就是为什么在上面的例子中为文件名添加数字前缀的原因。</p>
<p>事实上，可以通过很多设置来自定义一个 <strong>bookdown</strong> 项目。关于 <strong>bookdown</strong> 的更全面的概述，可以查看 <em>R Markdown Definitive Guide</em> 的第十八章 <a href="https://bookdown.org/yihui/rmarkdown/new-formats.html">“Creating New Formats”</a> <span class="citation">(<a href="#ref-rmarkdown2018" role="doc-biblioref">Xie, Allaire, and Grolemund 2018a</a>)</span>。完整文档请参见书籍 <a href="https://bookdown.org/yihui/bookdown/"><strong>bookdown</strong></a> <span class="citation">(<a href="#ref-bookdown2016" role="doc-biblioref">Xie 2016</a>)</span>。</p>
<p>需要注意的是，本节提供例子内容为英文，若需要编译含中文的文档，则需要加入特殊的命令，如 <code>documentclass: ctexbook</code>，一个简单的中文书例子请参见： <a href="https://github.com/yihui/bookdown-chinese" class="uri">https://github.com/yihui/bookdown-chinese</a>。</p>
</div>
<div id="rmarkdown-blogdown" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> 制作网站：<code>blogdown</code><a href="rmarkdown-working.html#rmarkdown-blogdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="blogdown-intro" class="section level3 hasAnchor" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> blogdown 简介<a href="rmarkdown-working.html#blogdown-intro" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>在当今的互联网时代世界，无论从事什么职业，个人网站几乎成为了一张人手必备的的“电子名片”。谢益辉开发的 blogdown 包提供了一种功能全面，且设置简单快速的个人网站架设途径。</p>
<p>基于 R Markdown 的 blogdown 包为个人用户提供一种轻便快速的建立个人静态网站的方案。不同于市面上多数的网站建立方案，静态网站有着众多好处，如文件体型小，铺设速度快，所以更换服务器时更加省时省力。与此同时，blogdown 依赖 R Markdown 文件为基础来生成网站。而 R Markdown 文件本身支持众多强大功能，包括文本的书写，编辑与排版（包括对 <span class="math inline">\(LaTeX\)</span> 的支持），数据分析，交互性插件（如交互性图表）等。</p>
<p>本书的这个小节将通过一个对新手十分友好的案例来手把手的展示如何快速建立一个可满足日常基本需求的网站，以便用户可快速上手 R 的 blogdown 包。</p>
</div>
<div id="blogdown-steps" class="section level3 hasAnchor" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> 具体操作<a href="rmarkdown-working.html#blogdown-steps" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="steps-install" class="section level4 hasAnchor" number="4.5.2.1">
<h4><span class="header-section-number">4.5.2.1</span> 安装 blogdown<a href="rmarkdown-working.html#steps-install" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>在开始之前，用户需要确认个人主机已经安装最新版本的 R 和 RStudio。</p>
<p>首先，通过以下一行命令从 CRAN 安装 blogdown 包：</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="rmarkdown-working.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 安装 blogdown</span></span>
<span id="cb236-2"><a href="rmarkdown-working.html#cb236-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;blogdown&quot;</span>)</span></code></pre></div>
</div>
<div id="steps-project" class="section level4 hasAnchor" number="4.5.2.2">
<h4><span class="header-section-number">4.5.2.2</span> 创建项目<a href="rmarkdown-working.html#steps-project" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>一个网站可被视为一个 R 项目。想要创建一个新的网站项目，只需要按照下图提示，在 RStudio 菜单栏依次选择文件，新项目，新目录 （<code>File -&gt; New Project  -&gt; New Directory</code>）。完成后，选择用 blogdown 建设网站 （<code>Website using blogdown</code>），即可看到一个网站项目的具体设置界面。</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-101"></span>
<img src="images/blog1.png" alt="在 RStudio 中创建一个新网页项目"  />
<p class="caption">
图 4.2: 在 RStudio 中创建一个新网页项目
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-102"></span>
<img src="images/blog2.png" alt="基于 blogdown 创建一个新网页项目"  />
<p class="caption">
图 4.3: 基于 blogdown 创建一个新网页项目
</p>
</div>
<p>设置好目录名，只需点击创建项目（<code>Create Project</code>），RStudio 即会通过 blogdown 包来自动生成一个网站项目。</p>
</div>
<div id="steps-serve" class="section level4 hasAnchor" number="4.5.2.3">
<h4><span class="header-section-number">4.5.2.3</span> 网站铺设<a href="rmarkdown-working.html#steps-serve" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>用户可以便捷的通过 RStudio 的基础功能在本地浏览自己的网页项目。用户既可以直接在控制台 （Console） 键入 <code>blogdown::serve_site()</code>，或在 RStudio 上方的插件 （<code>Addins</code>） 选项选择铺设网站 （<code>Serve Site</code>）。</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-103"></span>
<img src="images/blog3.png" alt="通过控制台在本地浏览你的网站"  />
<p class="caption">
图 4.4: 通过控制台在本地浏览你的网站
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-104"></span>
<img src="images/blog4.png" alt="通过插件的铺设选项在本地浏览你的网站"  />
<p class="caption">
图 4.5: 通过插件的铺设选项在本地浏览你的网站
</p>
</div>
<p>然后 RStudio 应会显示与下图相似的页面。</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-105"></span>
<img src="images/blog5.png" alt="在本地铺设网站"  />
<p class="caption">
图 4.6: 在本地铺设网站
</p>
</div>
<p>显示本地铺设成功后，用户既可以通过图形交互页面，点击在本地浏览器打开（在 RStudio 右上角的 <code>Show in new window</code>）来通过本地浏览器在本地浏览刚刚编辑好的网页。只要网页项目在本地浏览器中被打开后，之后任何在源文件上的改动都会自动在浏览器中进行实时加载，所以并不需要在每次改动后重复点击铺设 (<code>knit</code>) 网站。</p>
</div>
<div id="steps-edit" class="section level4 hasAnchor" number="4.5.2.4">
<h4><span class="header-section-number">4.5.2.4</span> 内容编辑<a href="rmarkdown-working.html#steps-edit" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>位于 RStudio 的右下角，用户可以通过进入内容 <code>content</code> 文件夹来查看并编辑当下网站项目的所有内容页。作为一个初始例子，这里首先打开 2020 年 12 月 01 日的一个文件 <code>content/post/2020-12-01-r-rmarkdown/index.Rmd</code>。 可以注意到，打开的 <code>Rmarkdown/Rmd</code> 文件的最上方是含有标题 <code>title</code>，作者 <code>author</code> 等字眼的代码部分，而这个部分被称为 YAML 代码区 （用于设定网页形态）。 当编辑具体网页内容时，用户只需要在 YAML 代码区下方的空白部分进行编写即可。</p>
<p>接下来，这里展示如何在网页中添加代码。如下图所示，只需添加一个 R 代码块，然后输入以下内容，代码就会自动展示在网页上。</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="rmarkdown-working.html#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb237-2"><a href="rmarkdown-working.html#cb237-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Orange)</span></code></pre></div>
<pre><code>##  Tree       age         circumference  
##  3:7   Min.   : 118.0   Min.   : 30.0  
##  1:7   1st Qu.: 484.0   1st Qu.: 65.5  
##  5:7   Median :1004.0   Median :115.0  
##  2:7   Mean   : 922.1   Mean   :115.9  
##  4:7   3rd Qu.:1372.0   3rd Qu.:161.5  
##        Max.   :1582.0   Max.   :214.0</code></pre>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="rmarkdown-working.html#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Orange, <span class="fu">aes</span>(<span class="at">x =</span> age,</span>
<span id="cb239-2"><a href="rmarkdown-working.html#cb239-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> circumference,</span>
<span id="cb239-3"><a href="rmarkdown-working.html#cb239-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> Tree)) <span class="sc">+</span></span>
<span id="cb239-4"><a href="rmarkdown-working.html#cb239-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb239-5"><a href="rmarkdown-working.html#cb239-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb239-6"><a href="rmarkdown-working.html#cb239-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb239-7"><a href="rmarkdown-working.html#cb239-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p>此时，如果编辑中的网站项目已经在本地浏览器中打开，用户只需要点击左上角的保存，几秒后即可在浏览器内看到如下图的内容。如果此时用户并没有在本地浏览网页，点击编译 <code>knit</code>，网站便会在本地的 RStudio 自动生成。</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-107"></span>
<img src="images/blog6.png" alt="给 Rmd 文件添加 R 代码"  />
<p class="caption">
图 4.7: 给 Rmd 文件添加 R 代码
</p>
</div>
</div>
<div id="steps-configure" class="section level4 hasAnchor" number="4.5.2.5">
<h4><span class="header-section-number">4.5.2.5</span> 网站配置<a href="rmarkdown-working.html#steps-configure" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>除了通过编辑 <code>Rmd</code> 文件来实现网站内容的编辑外，用户还可以通过修改 <code>config.yaml</code> 文件内的设定来自定义自己的网站。</p>
<p>例如，打开 <code>config.yaml</code> 文件后，用户可能会看到如下内容：</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="rmarkdown-working.html#cb240-1" aria-hidden="true" tabindex="-1"></a>baseurl<span class="sc">:</span> <span class="er">/</span></span>
<span id="cb240-2"><a href="rmarkdown-working.html#cb240-2" aria-hidden="true" tabindex="-1"></a>title<span class="sc">:</span> A Hugo website</span>
<span id="cb240-3"><a href="rmarkdown-working.html#cb240-3" aria-hidden="true" tabindex="-1"></a>theme<span class="sc">:</span> hugo<span class="sc">-</span>lithium</span>
<span id="cb240-4"><a href="rmarkdown-working.html#cb240-4" aria-hidden="true" tabindex="-1"></a>ignoreFiles<span class="sc">:</span></span>
<span id="cb240-5"><a href="rmarkdown-working.html#cb240-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span> \.Rmd<span class="sc">$</span></span>
<span id="cb240-6"><a href="rmarkdown-working.html#cb240-6" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span> \.Rmarkdown<span class="sc">$</span></span>
<span id="cb240-7"><a href="rmarkdown-working.html#cb240-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span> _cache<span class="sc">$</span></span>
<span id="cb240-8"><a href="rmarkdown-working.html#cb240-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span> \.knit\.md<span class="sc">$</span></span>
<span id="cb240-9"><a href="rmarkdown-working.html#cb240-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span> \.utf8\.md<span class="sc">$</span></span>
<span id="cb240-10"><a href="rmarkdown-working.html#cb240-10" aria-hidden="true" tabindex="-1"></a>permalinks<span class="sc">:</span></span>
<span id="cb240-11"><a href="rmarkdown-working.html#cb240-11" aria-hidden="true" tabindex="-1"></a>  post<span class="sc">:</span> <span class="er">/:</span>year<span class="sc">/</span><span class="er">:</span>month<span class="sc">/</span><span class="er">:</span>day<span class="sc">/</span><span class="er">:</span>slug<span class="sc">/</span></span>
<span id="cb240-12"><a href="rmarkdown-working.html#cb240-12" aria-hidden="true" tabindex="-1"></a>menu<span class="sc">:</span></span>
<span id="cb240-13"><a href="rmarkdown-working.html#cb240-13" aria-hidden="true" tabindex="-1"></a>  main<span class="sc">:</span></span>
<span id="cb240-14"><a href="rmarkdown-working.html#cb240-14" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span> name<span class="sc">:</span> About</span>
<span id="cb240-15"><a href="rmarkdown-working.html#cb240-15" aria-hidden="true" tabindex="-1"></a>      url<span class="sc">:</span> <span class="er">/</span>about<span class="sc">/</span></span>
<span id="cb240-16"><a href="rmarkdown-working.html#cb240-16" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span> name<span class="sc">:</span> GitHub</span>
<span id="cb240-17"><a href="rmarkdown-working.html#cb240-17" aria-hidden="true" tabindex="-1"></a>      url<span class="sc">:</span> https<span class="sc">:</span><span class="er">//</span>github.com<span class="sc">/</span>rstudio<span class="sc">/</span>blogdown</span>
<span id="cb240-18"><a href="rmarkdown-working.html#cb240-18" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span> name<span class="sc">:</span> Twitter</span>
<span id="cb240-19"><a href="rmarkdown-working.html#cb240-19" aria-hidden="true" tabindex="-1"></a>      url<span class="sc">:</span> https<span class="sc">:</span><span class="er">//</span>twitter.com<span class="sc">/</span>rstudio</span></code></pre></div>
<p>只需在相应的部分进行编辑，用户就可以根据个人的需求自定义自己的网站，如：</p>
<ul>
<li><code>title: 我的网站</code> ：将网站标题修改为“我的网站”</li>
<li><code>name: Weibo</code> <code>url: 你的微博url</code> ：在菜单中添加个人 Weibo 信息页面的链接</li>
</ul>
</div>
<div id="steps-summary" class="section level4 hasAnchor" number="4.5.2.6">
<h4><span class="header-section-number">4.5.2.6</span> 小结<a href="rmarkdown-working.html#steps-summary" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>目前为止，此节已经展示了如何创建并编辑一个个人化 blogdown 网站的三条基本知识：</p>
<ol style="list-style-type: decimal">
<li>通过 RStudio 的铺设 <code>Serve Site</code> 功能 或在控制台内键入 <code>blogdown::serve_site()</code> 来在本地浏览自己的网站。</li>
<li>通过编辑 <code>config.yaml</code> 文件来自定义自己的网站（标题，菜单栏，主题等）。</li>
<li>通过编辑处于目录夹中 <code>content</code> 文件夹内的 <code>Rmd</code> 文件来编辑具体的网页信息。通过进阶的学习，用户还可以通过修改自定义 <code>Rmd</code> 文件的位置来改变他们在网站上显示的结构。</li>
</ol>
</div>
<div id="steps-deploy" class="section level4 hasAnchor" number="4.5.2.7">
<h4><span class="header-section-number">4.5.2.7</span> 部署<a href="rmarkdown-working.html#steps-deploy" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>那么下一步是什么？选择自然有很多，但最重要的莫过于通过部署编辑完成的网站，以便让他人可以通过互联网直接浏览网站上的内容。</p>
<p>就像之前简短提到过的，因为静态网站本质上就是一个文件夹，所以静态网站与大多数动态网站相比较的一个重要优点就是部署更加简单且快速。那么如何选择用于部署的服务器呢？权衡过上手友好度以及性价比后，Netlify (<a href="https://www.netlify.com/" class="uri">https://www.netlify.com/</a>) 是一个很不错的选择。</p>
</div>
<div id="steps-netlify" class="section level4 hasAnchor" number="4.5.2.8">
<h4><span class="header-section-number">4.5.2.8</span> Netlify<a href="rmarkdown-working.html#steps-netlify" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Netlify 提供的免费服务功能多元，足够满足大多数用户的需求，且部署也十分简单。就算用户之前没有部署网站的经验，也只需创建一个 GitHub 账户，并使用此账户注册并登陆属于用户个人的 Netlify 账户。登陆成功后，只需将网站项目目录中由 blogdown 生成的名为公共 <code>Public/</code> 的文件夹拖入 Netlify 部署页面即可。</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-109"></span>
<img src="images/blog7.png" alt="在网站项目文件夹中找到名为Public的文件夹"  />
<p class="caption">
图 4.8: 在网站项目文件夹中找到名为Public的文件夹
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-110"></span>
<img src="images/blog8.png" alt="将此文件夹拖拽入部署页面的部署区域即可完成部署"  />
<p class="caption">
图 4.9: 将此文件夹拖拽入部署页面的部署区域即可完成部署
</p>
</div>
<p>一般只需几秒钟，网站就会被成功部署在 Netlify 的服务器上，并可以通过一个格式为 <code>random-word-12345.netlify.com</code> 的域名访问。此域名是 Netlify 自动生成的一个子域名，并支持通过设置修改至自己偏好的字眼。Netlify 提供的一体化部署服务省去了用户在其他服务器上实现自定义设置时往往需要面对的许多麻烦。</p>
<p>不过需要注意的是，每次在本地的 RStudio 编辑完个人网站后，用户需要在控制台输入以下代码来更新你的公共文件夹 <code>Public/</code>。只有在更新完成后，才可以通过在 Netlify 上次最新版本的 <code>Public/</code> 文件夹来部署你改动过后的网站。</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="rmarkdown-working.html#cb241-1" aria-hidden="true" tabindex="-1"></a>blogdown<span class="sc">::</span><span class="fu">build_site</span>()</span></code></pre></div>
</div>
</div>
</div>
<div id="rmarkdown-paper" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> 制作科技论文的支撑材料<a href="rmarkdown-working.html#rmarkdown-paper" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>数据驱动是当前科学研究的重要发展趋势。中国科学院生化所吴家睿教授认为，数据驱动的研究范式不仅能够避免研究者可能的主观偏见，而且可以帮助其发现在假设或者现有理论范围之外的全新知识。这种方式不需要假设，主要目的是去获取研究对象的相关信息，克服了假设驱动的研究范式对决定论和因果关系的偏执，进而形成了开放式研究的认识论新体系。</p>
<p>在这样的背景下，越来越多的期刊都鼓励或者要求作者开放研究中使用的原始数据和分析过程，给了 R Markdown 一个新的用武之处。</p>
<div id="建议文件结构" class="section level3 hasAnchor" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> 建议文件结构<a href="rmarkdown-working.html#建议文件结构" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>论文的支撑材料通常存放在 GitHub 这一类的开源网站上，其文件结构通常是：</p>
<pre><code>|--+ data：子文件夹，用于存放分析使用的数据；
|--+ figures：子文件夹，用于存放生成的图片；
|--+ functions：子文件夹，用于存放一些需要重复调用的函数；
|- supplementary.Rproj：R 项目文件；
|- README.md：使用 Markdown 语法的 README 文件，用于说明项目相关信息；
|- analysis.Rmd：使用 R Markdown 语法的分析文件（可以有多个）。</code></pre>
<p><code>analysis.Rmd</code> 是支撑材料中的核心文件。它是一个常规的 R Markdown 文档。举例来说，下面的头文件中分别指定了 3 种不同的输出样式。</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb243-1"><a href="rmarkdown-working.html#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb243-2"><a href="rmarkdown-working.html#cb243-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Your Title</span></span>
<span id="cb243-3"><a href="rmarkdown-working.html#cb243-3" aria-hidden="true" tabindex="-1"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;your@email.com&quot;</span></span>
<span id="cb243-4"><a href="rmarkdown-working.html#cb243-4" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;2022-5-15&quot;</span></span>
<span id="cb243-5"><a href="rmarkdown-working.html#cb243-5" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb243-6"><a href="rmarkdown-working.html#cb243-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb243-7"><a href="rmarkdown-working.html#cb243-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">yes</span></span>
<span id="cb243-8"><a href="rmarkdown-working.html#cb243-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc_depth</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span>
<span id="cb243-9"><a href="rmarkdown-working.html#cb243-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc_float</span><span class="kw">:</span></span>
<span id="cb243-10"><a href="rmarkdown-working.html#cb243-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">no</span></span>
<span id="cb243-11"><a href="rmarkdown-working.html#cb243-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">smooth_scroll</span><span class="kw">:</span><span class="at"> </span><span class="ch">no</span></span>
<span id="cb243-12"><a href="rmarkdown-working.html#cb243-12" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">md_document</span><span class="kw">:</span></span>
<span id="cb243-13"><a href="rmarkdown-working.html#cb243-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">variant</span><span class="kw">:</span><span class="at"> markdown_github</span></span>
<span id="cb243-14"><a href="rmarkdown-working.html#cb243-14" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">pdf_document</span><span class="kw">:</span></span>
<span id="cb243-15"><a href="rmarkdown-working.html#cb243-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">yes</span></span>
<span id="cb243-16"><a href="rmarkdown-working.html#cb243-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc_depth</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb243-17"><a href="rmarkdown-working.html#cb243-17" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div>
<p>为了让生成的图片能够妥善的存放到 <code>figures</code> 文件夹，需要在头文件后面添加一些设置。</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="rmarkdown-working.html#cb244-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-2"><a href="rmarkdown-working.html#cb244-2" aria-hidden="true" tabindex="-1"></a><span class="st">```</span><span class="at">r</span></span>
<span id="cb244-3"><a href="rmarkdown-working.html#cb244-3" aria-hidden="true" tabindex="-1"></a><span class="at">knitr::opts_chunk$set(</span></span>
<span id="cb244-4"><a href="rmarkdown-working.html#cb244-4" aria-hidden="true" tabindex="-1"></a><span class="at">  fig.width = 8,</span></span>
<span id="cb244-5"><a href="rmarkdown-working.html#cb244-5" aria-hidden="true" tabindex="-1"></a><span class="at">  fig.asp=0.618,</span></span>
<span id="cb244-6"><a href="rmarkdown-working.html#cb244-6" aria-hidden="true" tabindex="-1"></a><span class="at">  dpi = 300,</span></span>
<span id="cb244-7"><a href="rmarkdown-working.html#cb244-7" aria-hidden="true" tabindex="-1"></a><span class="at">  warning = FALSE,</span></span>
<span id="cb244-8"><a href="rmarkdown-working.html#cb244-8" aria-hidden="true" tabindex="-1"></a><span class="at">  fig.path = &quot;figures/Figure-&quot;</span></span>
<span id="cb244-9"><a href="rmarkdown-working.html#cb244-9" aria-hidden="true" tabindex="-1"></a><span class="at">)</span></span>
<span id="cb244-10"><a href="rmarkdown-working.html#cb244-10" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span></code></pre></div>
<p>这里将图片的默认宽度和比例分别设置为 8 英寸和 0.618（黄金分割比例），并设置图片分辨率为 300 dpi；与此同时，不显示 R 运行过程中的警告信息；此外，还将图片输出的路径指定到 <code>figures</code> 文件夹中。</p>
</div>
<div id="分析报告的正文" class="section level3 hasAnchor" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> 分析报告的正文<a href="rmarkdown-working.html#分析报告的正文" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>报告的正文仁者见仁智者见智，不过通常会包含以下几个部分（因为研究论文更多的发表在英文期刊上，所以这里的报告示例使用了英文标题）。</p>
<pre><code>## Required Packages

## Data Processing

## Main Results

## Supporting Results
</code></pre>
<p>这基本上是按照数据分析的逻辑组织的，所以就不再赘述了。</p>
<p>如果文档中不涉及动态网页内容，推荐把 R Markdown 文档输出为 Markdown ，因为这样读者可以直接在 GitHub 网站查看相应的结果。</p>
<p>具体做法：</p>
<ul>
<li>在头文件中加入 <code>output: github_document</code>；</li>
<li>使用下面的命令将 Rmd 文件编译为 Markdown 文件。注意这里指定了 GitHub Flavored Markdown（gfm）作为输出格式。</li>
</ul>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="rmarkdown-working.html#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rmarkdown)</span>
<span id="cb246-2"><a href="rmarkdown-working.html#cb246-2" aria-hidden="true" tabindex="-1"></a><span class="fu">render</span>(<span class="st">&quot;analysis.Rmd&quot;</span>,<span class="fu">md_document</span>(<span class="at">variant =</span> <span class="st">&quot;gfm&quot;</span>))</span></code></pre></div>

</div>
</div>
</div>



<h3>参考文献<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-R-testthat" class="csl-entry">
Wickham, Hadley. 2022. <em>Testthat: Unit Testing for r</em>. <a href="https://CRAN.R-project.org/package=testthat">https://CRAN.R-project.org/package=testthat</a>.
</div>
<div id="ref-bookdown2016" class="csl-entry">
Xie, Yihui. 2016. <em>Bookdown: Authoring Books and Technical Documents with <span>R</span> Markdown</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/bookdown">https://bookdown.org/yihui/bookdown</a>.
</div>
<div id="ref-R-bookdown" class="csl-entry">
———. 2022a. <em>Bookdown: Authoring Books and Technical Documents with r Markdown</em>. <a href="https://CRAN.R-project.org/package=bookdown">https://CRAN.R-project.org/package=bookdown</a>.
</div>
<div id="ref-rmarkdown2018" class="csl-entry">
Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018a. <em>R Markdown: The Definitive Guide</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="25">
<li id="fn25"><p>2019 年 7 月 31 日，在国际统计学年会（JSM）上，统计学会会长委员会（COPSS）将当年的考普斯会长奖（COPSS Presidents’ Award）颁发给了 RStudio 公司的首席科学家、R 语言软件包开发者 Hadley Wickham，以表彰他在统计应用领域做出的卓越贡献。考普斯会长奖是统计学领域的最高奖项，由美国统计协会（ASA）、加拿大统计学会（SSC）、国际数理统计学会（IMS）、国际生物统计学会北美东部地区（ENAR）、国际生物统计学会北美西部地区（WNAR）发起，被誉为“统计学界的诺贝尔奖”，每年颁发一次，授予一位在统计学领域作出杰出贡献的青年学者。考普斯会长奖此前几乎都颁发给统计学界的基础研究、应用研究学者，而 Hadley Wickham 是第一位 作为软件开发者的获奖者。Hadley 在 R 语言圈是个如雷贯耳的名字，他创建并发布了很多流行的 R 包，包括著名图形可视化软件包 <code>ggplot2</code> ，以及其他著名的软件包 <code>dplyr</code>、<code>tidyverse</code>等。<a href="rmarkdown-working.html#fnref25" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<div id="disqus_thread"></div>
<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://rmarkdown-guide.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </section>

          </div>
        </div>
      </div>
<a href="rmarkdown-document.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rmarkdown-interaction.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cosname/rmarkdown-guide/edit/master/04-working.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
