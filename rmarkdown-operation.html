<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>第 6 章 R Markdown 的操作技巧 | R Markdown 指南</title>
  <meta name="description" content="第 6 章 R Markdown 的操作技巧 | R Markdown 指南" />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="第 6 章 R Markdown 的操作技巧 | R Markdown 指南" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="第 6 章 R Markdown 的操作技巧 | R Markdown 指南" />
  <meta name="github-repo" content="cosname/rmarkdown-guide" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="第 6 章 R Markdown 的操作技巧 | R Markdown 指南" />
  
  <meta name="twitter:description" content="第 6 章 R Markdown 的操作技巧 | R Markdown 指南" />
  

<meta name="author" content="王祎帆" />
<meta name="author" content="闫求识" />
<meta name="author" content="高春辉" />
<meta name="author" content="庄亮亮" />


<meta name="date" content="2022-02-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rmarkdown-interaction.html"/>
<link rel="next" href="rmarkdown-project.html"/>
<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<script src="libs/kePrint/kePrint.js"></script>
<link href="libs/lightable/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Markdown 中文指南</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>前言</a></li>
<li class="part"><span><b>I 初识 R Markdown</b></span></li>
<li class="chapter" data-level="1" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html"><i class="fa fa-check"></i><b>1</b> R Markdown概述</a>
<ul>
<li class="chapter" data-level="1.1" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#rmarkdown-source"><i class="fa fa-check"></i><b>1.1</b> R Markdown 的渊源</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#knitr-sweave"><i class="fa fa-check"></i><b>1.1.1</b> knitr 和 Sweave</a></li>
<li class="chapter" data-level="1.1.2" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#mark-pandoc"><i class="fa fa-check"></i><b>1.1.2</b> 标记语言和 Pandoc 转换器</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#rmarkdown-example"><i class="fa fa-check"></i><b>1.2</b> 以案例形式初识 R Markdown</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-report"><i class="fa fa-check"></i><b>1.2.1</b> 数据分析报告</a></li>
<li class="chapter" data-level="1.2.2" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-note"><i class="fa fa-check"></i><b>1.2.2</b> 交互笔记本</a></li>
<li class="chapter" data-level="1.2.3" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-report"><i class="fa fa-check"></i><b>1.2.3</b> 个人简历</a></li>
<li class="chapter" data-level="1.2.4" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-resume"><i class="fa fa-check"></i><b>1.2.4</b> 网站</a></li>
<li class="chapter" data-level="1.2.5" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-ppt"><i class="fa fa-check"></i><b>1.2.5</b> 幻灯片</a></li>
<li class="chapter" data-level="1.2.6" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-forms"><i class="fa fa-check"></i><b>1.2.6</b> 交互报表</a></li>
<li class="chapter" data-level="1.2.7" data-path="rmarkdown-intro.html"><a href="rmarkdown-intro.html#example-dynamic"><i class="fa fa-check"></i><b>1.2.7</b> 动态文档</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html"><i class="fa fa-check"></i><b>2</b> R Markdown 的基础知识</a>
<ul>
<li class="chapter" data-level="2.1" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#rstudio-config"><i class="fa fa-check"></i><b>2.1</b> R Studio 相关的配置</a></li>
<li class="chapter" data-level="2.2" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#rmarkdown-install"><i class="fa fa-check"></i><b>2.2</b> R Markdown 的安装</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#install-rmd"><i class="fa fa-check"></i><b>2.2.1</b> 安装 R Markdown</a></li>
<li class="chapter" data-level="2.2.2" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#install-tinytex"><i class="fa fa-check"></i><b>2.2.2</b> 安装 Tinytex</a></li>
<li class="chapter" data-level="2.2.3" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#安装-git-install-git"><i class="fa fa-check"></i><b>2.2.3</b> 安装 Git（*） {#install-git}</a></li>
<li class="chapter" data-level="2.2.4" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#install-graph"><i class="fa fa-check"></i><b>2.2.4</b> 安装 RStudio 图形化编辑器</a></li>
<li class="chapter" data-level="2.2.5" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#create-rmd"><i class="fa fa-check"></i><b>2.2.5</b> 创建第一个 R Markdown 文档</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#rmarkdown-compile"><i class="fa fa-check"></i><b>2.3</b> R Markdown 的编译过程</a></li>
<li class="chapter" data-level="2.4" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#rmarkdown-element"><i class="fa fa-check"></i><b>2.4</b> R Markdown 的基本元素</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#yaml"><i class="fa fa-check"></i><b>2.4.1</b> YAML 头部</a></li>
<li class="chapter" data-level="2.4.2" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#markdown"><i class="fa fa-check"></i><b>2.4.2</b> Markdown 语法</a></li>
<li class="chapter" data-level="2.4.3" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#block-inline"><i class="fa fa-check"></i><b>2.4.3</b> 代码区块和行内代码</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#page-layout"><i class="fa fa-check"></i><b>2.5</b> 页面设置和布局</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#output-width"><i class="fa fa-check"></i><b>2.5.1</b> 控制输出宽度</a></li>
<li class="chapter" data-level="2.5.2" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#line-break"><i class="fa fa-check"></i><b>2.5.2</b> 换行符号</a></li>
<li class="chapter" data-level="2.5.3" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#page-break"><i class="fa fa-check"></i><b>2.5.3</b> 分页符和分割线</a></li>
<li class="chapter" data-level="2.5.4" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#catalog"><i class="fa fa-check"></i><b>2.5.4</b> 目录</a></li>
<li class="chapter" data-level="2.5.5" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#chapter-number"><i class="fa fa-check"></i><b>2.5.5</b> 章节编号</a></li>
<li class="chapter" data-level="2.5.6" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#plottable-index"><i class="fa fa-check"></i><b>2.5.6</b> 图表的索引</a></li>
<li class="chapter" data-level="2.5.7" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#reference-index"><i class="fa fa-check"></i><b>2.5.7</b> 参考文献</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#document-element"><i class="fa fa-check"></i><b>2.6</b> R Markdown 的文档元素</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-plot"><i class="fa fa-check"></i><b>2.6.1</b> 图片</a></li>
<li class="chapter" data-level="2.6.2" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-table"><i class="fa fa-check"></i><b>2.6.2</b> 表格</a></li>
<li class="chapter" data-level="2.6.3" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-equation"><i class="fa fa-check"></i><b>2.6.3</b> 公式</a></li>
<li class="chapter" data-level="2.6.4" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-quote"><i class="fa fa-check"></i><b>2.6.4</b> 引用</a></li>
<li class="chapter" data-level="2.6.5" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-textcol"><i class="fa fa-check"></i><b>2.6.5</b> 字体颜色</a></li>
<li class="chapter" data-level="2.6.6" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-dynamic"><i class="fa fa-check"></i><b>2.6.6</b> 动态交互元件</a></li>
<li class="chapter" data-level="2.6.7" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-video"><i class="fa fa-check"></i><b>2.6.7</b> 音频和视频</a></li>
<li class="chapter" data-level="2.6.8" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-flow"><i class="fa fa-check"></i><b>2.6.8</b> 流程图</a></li>
<li class="chapter" data-level="2.6.9" data-path="rmarkdown-base.html"><a href="rmarkdown-base.html#element-gantt"><i class="fa fa-check"></i><b>2.6.9</b> 甘特图</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II 基于R Markdown的应用</b></span></li>
<li class="chapter" data-level="3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html"><i class="fa fa-check"></i><b>3</b> 使用 R Markdown 创建常用文档</a>
<ul>
<li class="chapter" data-level="3.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#rmarkdown-html"><i class="fa fa-check"></i><b>3.1</b> HTML 文档</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#html-title"><i class="fa fa-check"></i><b>3.1.1</b> 目录和标题</a></li>
<li class="chapter" data-level="3.1.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#html-theme"><i class="fa fa-check"></i><b>3.1.2</b> 主题和样式</a></li>
<li class="chapter" data-level="3.1.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#html-pic"><i class="fa fa-check"></i><b>3.1.3</b> 图片和数据框</a></li>
<li class="chapter" data-level="3.1.4" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#html-module"><i class="fa fa-check"></i><b>3.1.4</b> 组件和内容</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#rmarkdown-pdf"><i class="fa fa-check"></i><b>3.2</b> PDF 文档</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-rmd"><i class="fa fa-check"></i><b>3.2.1</b> 从 R Markdown 到 PDF 文档</a></li>
<li class="chapter" data-level="3.2.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-chinese"><i class="fa fa-check"></i><b>3.2.2</b> 在 PDF 文档中使用中文的注意事项</a></li>
<li class="chapter" data-level="3.2.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-general-setting"><i class="fa fa-check"></i><b>3.2.3</b> 与 HTML 文档中相通的一些设置</a></li>
<li class="chapter" data-level="3.2.4" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-latex"><i class="fa fa-check"></i><b>3.2.4</b> LaTeX 选项</a></li>
<li class="chapter" data-level="3.2.5" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-latex-citation"><i class="fa fa-check"></i><b>3.2.5</b> 使用 LaTeX 包处理参考文献</a></li>
<li class="chapter" data-level="3.2.6" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-latex-engine"><i class="fa fa-check"></i><b>3.2.6</b> LaTeX 的渲染引擎</a></li>
<li class="chapter" data-level="3.2.7" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#pdf-keep-tex"><i class="fa fa-check"></i><b>3.2.7</b> 保留生成的 TeX 中间文件</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#rmarkdown-ppt"><i class="fa fa-check"></i><b>3.3</b> PPT 幻灯片</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#ioslides-presentation"><i class="fa fa-check"></i><b>3.3.1</b> ioslides 幻灯片</a></li>
<li class="chapter" data-level="3.3.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#slidy-presentation"><i class="fa fa-check"></i><b>3.3.2</b> Slidy 幻灯片</a></li>
<li class="chapter" data-level="3.3.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#beamer-presentation"><i class="fa fa-check"></i><b>3.3.3</b> Beamer 幻灯片</a></li>
<li class="chapter" data-level="3.3.4" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#powerpoint-presentation"><i class="fa fa-check"></i><b>3.3.4</b> PowerPoint 幻灯片</a></li>
<li class="chapter" data-level="3.3.5" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#ppt-xaringan"><i class="fa fa-check"></i><b>3.3.5</b> Xaringan 幻灯片</a></li>
<li class="chapter" data-level="3.3.6" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#xaringan-extension"><i class="fa fa-check"></i><b>3.3.6</b> Xaringan 幻灯片的扩展包</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#rmarkdown-word"><i class="fa fa-check"></i><b>3.4</b> Word 文档</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#word-template"><i class="fa fa-check"></i><b>3.4.1</b> 创建 word 模板</a></li>
<li class="chapter" data-level="3.4.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#word-custom-template"><i class="fa fa-check"></i><b>3.4.2</b> 自定义 Word 模板</a></li>
<li class="chapter" data-level="3.4.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#word-rmd"><i class="fa fa-check"></i><b>3.4.3</b> R Markdown 和 Word 之间的双向工作流程</a></li>
<li class="chapter" data-level="3.4.4" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#word-style"><i class="fa fa-check"></i><b>3.4.4</b> 个人风格元素</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#rmarkdown-new"><i class="fa fa-check"></i><b>3.5</b> 创建新的文档格式</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#new-existing"><i class="fa fa-check"></i><b>3.5.1</b> 从现有文档格式衍生新格式</a></li>
<li class="chapter" data-level="3.5.2" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#new-new"><i class="fa fa-check"></i><b>3.5.2</b> 完全的自定义输出格式</a></li>
<li class="chapter" data-level="3.5.3" data-path="rmarkdown-document.html"><a href="rmarkdown-document.html#new-using"><i class="fa fa-check"></i><b>3.5.3</b> 使用新的文档输出格式</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html"><i class="fa fa-check"></i><b>4</b> 基于 R Markdown 工作与学习</a>
<ul>
<li class="chapter" data-level="4.1" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-email"><i class="fa fa-check"></i><b>4.1</b> 发邮件：blastula</a></li>
<li class="chapter" data-level="4.2" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-package"><i class="fa fa-check"></i><b>4.2</b> 制作 R 包：fusen</a></li>
<li class="chapter" data-level="4.3" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-cv"><i class="fa fa-check"></i><b>4.3</b> 制作简历：datadrivencv</a></li>
<li class="chapter" data-level="4.4" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-bookdown"><i class="fa fa-check"></i><b>4.4</b> 写书和记学习笔记：bookdown</a></li>
<li class="chapter" data-level="4.5" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-blogdown"><i class="fa fa-check"></i><b>4.5</b> 制作网站：blogdown</a></li>
<li class="chapter" data-level="4.6" data-path="rmarkdown-working.html"><a href="rmarkdown-working.html#rmarkdown-paper"><i class="fa fa-check"></i><b>4.6</b> 制作科技论文的支撑材料</a></li>
</ul></li>
<li class="part"><span><b>III R Markdown进阶操作</b></span></li>
<li class="chapter" data-level="5" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html"><i class="fa fa-check"></i><b>5</b> 使用 R Markdown 创建动态交互文档</a>
<ul>
<li class="chapter" data-level="5.1" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#rmarkdown-shiny"><i class="fa fa-check"></i><b>5.1</b> Web交互界面：Shiny小程序</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-intro"><i class="fa fa-check"></i><b>5.1.1</b> Shiny 入门指南</a></li>
<li class="chapter" data-level="5.1.2" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-deploy"><i class="fa fa-check"></i><b>5.1.2</b> Shiny 的部署</a></li>
<li class="chapter" data-level="5.1.3" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-app"><i class="fa fa-check"></i><b>5.1.3</b> 嵌入 Shiny 应用程序</a></li>
<li class="chapter" data-level="5.1.4" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-widget"><i class="fa fa-check"></i><b>5.1.4</b> Shiny 小部件</a></li>
<li class="chapter" data-level="5.1.5" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-link"><i class="fa fa-check"></i><b>5.1.5</b> Shiny 文档间的链接</a></li>
<li class="chapter" data-level="5.1.6" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#shiny-render"><i class="fa fa-check"></i><b>5.1.6</b> Shiny 文档的渲染</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#rmarkdown-dashboards"><i class="fa fa-check"></i><b>5.2</b> 交互式仪表盘：Dashboards</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#dashboards-intro"><i class="fa fa-check"></i><b>5.2.1</b> Dashboards 入门</a></li>
<li class="chapter" data-level="5.2.2" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#dashboards-layout"><i class="fa fa-check"></i><b>5.2.2</b> Dashboards 排版</a></li>
<li class="chapter" data-level="5.2.3" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#dashboards-module"><i class="fa fa-check"></i><b>5.2.3</b> Dashboards 组件</a></li>
<li class="chapter" data-level="5.2.4" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#dashboards-shiny"><i class="fa fa-check"></i><b>5.2.4</b> Dashboards 与 Shiny</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#package-rmd"><i class="fa fa-check"></i><b>5.3</b> 在 R package 中使用 R Markdown</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#rmd-vignettes"><i class="fa fa-check"></i><b>5.3.1</b> 写软件包的文档</a></li>
<li class="chapter" data-level="5.3.2" data-path="rmarkdown-interaction.html"><a href="rmarkdown-interaction.html#rmd-auto"><i class="fa fa-check"></i><b>5.3.2</b> 定义一个自动化报告函数</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html"><i class="fa fa-check"></i><b>6</b> R Markdown 的操作技巧</a>
<ul>
<li class="chapter" data-level="6.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#table-advanced"><i class="fa fa-check"></i><b>6.1</b> 表格操作进阶</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#table-complex"><i class="fa fa-check"></i><b>6.1.1</b> 利用函数 <code>knitr::kable()</code> 生成复杂的表格</a></li>
<li class="chapter" data-level="6.1.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#kable-extra"><i class="fa fa-check"></i><b>6.1.2</b> 利用 <strong>kableExtra</strong> 美化表格</a></li>
<li class="chapter" data-level="6.1.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#else-table"><i class="fa fa-check"></i><b>6.1.3</b> 其它生成表格的包及功能介绍</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-options"><i class="fa fa-check"></i><b>6.2</b> 块选项</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-variable"><i class="fa fa-check"></i><b>6.2.1</b> 在块选项中使用变量</a></li>
<li class="chapter" data-level="6.2.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-error"><i class="fa fa-check"></i><b>6.2.2</b> 如何在遇到 error 的时候继续编译</a></li>
<li class="chapter" data-level="6.2.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-cache"><i class="fa fa-check"></i><b>6.2.3</b> 缓存代码块</a></li>
<li class="chapter" data-level="6.2.4" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-asis"><i class="fa fa-check"></i><b>6.2.4</b> 通过 asis 引擎有条件地执行内容</a></li>
<li class="chapter" data-level="6.2.5" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-shell"><i class="fa fa-check"></i><b>6.2.5</b> 执行 Shell 脚本</a></li>
<li class="chapter" data-level="6.2.6" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-output"><i class="fa fa-check"></i><b>6.2.6</b> 控制输出</a></li>
<li class="chapter" data-level="6.2.7" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-reformat"><i class="fa fa-check"></i><b>6.2.7</b> 重新格式化源代码</a></li>
<li class="chapter" data-level="6.2.8" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-leading"><i class="fa fa-check"></i><b>6.2.8</b> 删除文本输出中的前导符号</a></li>
<li class="chapter" data-level="6.2.9" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#为文本输出块添加属性-chunk-property"><i class="fa fa-check"></i><b>6.2.9</b> 为文本输出块添加属性 (*) {#chunk-property}</a></li>
<li class="chapter" data-level="6.2.10" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#chunk-multiplot"><i class="fa fa-check"></i><b>6.2.10</b> 同一张图的多种图像输出格式</a></li>
<li class="chapter" data-level="6.2.11" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#图像的后期加工-chunk-process"><i class="fa fa-check"></i><b>6.2.11</b> 图像的后期加工 (*) {#chunk-process}</a></li>
<li class="chapter" data-level="6.2.12" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#输出高质量的图像-chunk-highquality"><i class="fa fa-check"></i><b>6.2.12</b> 输出高质量的图像 (*) {#chunk-highquality}</a></li>
<li class="chapter" data-level="6.2.13" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#带有低级绘图功能的逐步绘图-chunk-step-plot"><i class="fa fa-check"></i><b>6.2.13</b> 带有低级绘图功能的逐步绘图 (*) {#chunk-step-plot}</a></li>
<li class="chapter" data-level="6.2.14" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#在代码块中自定义对象的打印格式-chunk-print"><i class="fa fa-check"></i><b>6.2.14</b> 在代码块中自定义对象的打印格式 (*) {#chunk-print}</a></li>
<li class="chapter" data-level="6.2.15" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#选项钩子-option-hook"><i class="fa fa-check"></i><b>6.2.15</b> 选项钩子 (*) {#option-hook}</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#other-language"><i class="fa fa-check"></i><b>6.3</b> 与其他语言的结合</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#注册自定义语言引擎-register-language"><i class="fa fa-check"></i><b>6.3.1</b> 注册自定义语言引擎 (*) {#register-language}</a></li>
<li class="chapter" data-level="6.3.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#python-rmd"><i class="fa fa-check"></i><b>6.3.2</b> 运行 Python 代码并与 Python 交互</a></li>
<li class="chapter" data-level="6.3.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#cat-file"><i class="fa fa-check"></i><b>6.3.3</b> 通过 cat 引擎将块内容写入文件</a></li>
<li class="chapter" data-level="6.3.4" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#sas-rmd"><i class="fa fa-check"></i><b>6.3.4</b> 运行 SAS 代码</a></li>
<li class="chapter" data-level="6.3.5" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#stata-rmd"><i class="fa fa-check"></i><b>6.3.5</b> 运行 Stata 代码</a></li>
<li class="chapter" data-level="6.3.6" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#asymptote-plot"><i class="fa fa-check"></i><b>6.3.6</b> 用渐近线 Asymptote 创建图形</a></li>
<li class="chapter" data-level="6.3.7" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#sass-scss"><i class="fa fa-check"></i><b>6.3.7</b> 使用 Sass/SCSS 构建 HTML 页面</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#输出钩子-output-hook"><i class="fa fa-check"></i><b>6.4</b> 输出钩子 (*) {#output-hook}</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#edit-source"><i class="fa fa-check"></i><b>6.4.1</b> 编辑源代码</a></li>
<li class="chapter" data-level="6.4.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#source-index"><i class="fa fa-check"></i><b>6.4.2</b> 向源代码中添加行号</a></li>
<li class="chapter" data-level="6.4.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#scrollable-output"><i class="fa fa-check"></i><b>6.4.3</b> 可滚动的文本输出</a></li>
<li class="chapter" data-level="6.4.4" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#truncated-output"><i class="fa fa-check"></i><b>6.4.4</b> 截断文本输出</a></li>
<li class="chapter" data-level="6.4.5" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#html5-plot"><i class="fa fa-check"></i><b>6.4.5</b> 以HTML5格式输出图像</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#其它使用-knitr-的小技巧-other-trick"><i class="fa fa-check"></i><b>6.5</b> 其它使用 knitr 的小技巧 (*) {#other-trick}</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#reuse-chunk"><i class="fa fa-check"></i><b>6.5.1</b> 重复使用代码块</a></li>
<li class="chapter" data-level="6.5.2" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#在创建对象之前使用它-use-creat"><i class="fa fa-check"></i><b>6.5.2</b> 在创建对象之前使用它 (*) {#use-creat}</a></li>
<li class="chapter" data-level="6.5.3" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#compile-exit"><i class="fa fa-check"></i><b>6.5.3</b> 提前退出编译</a></li>
<li class="chapter" data-level="6.5.4" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#plot-show-else"><i class="fa fa-check"></i><b>6.5.4</b> 生成一个图像并在其他地方显示</a></li>
<li class="chapter" data-level="6.5.5" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#modify-before"><i class="fa fa-check"></i><b>6.5.5</b> 修改前一个代码块中的图像</a></li>
<li class="chapter" data-level="6.5.6" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#保存一组块选项并重复使用它们-reuse-option"><i class="fa fa-check"></i><b>6.5.6</b> 保存一组块选项并重复使用它们 (*) {#reuse-option}</a></li>
<li class="chapter" data-level="6.5.7" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#knit-expand"><i class="fa fa-check"></i><b>6.5.7</b> 使用 knitr::knit_expand() 来生成 Rmd 源代码</a></li>
<li class="chapter" data-level="6.5.8" data-path="rmarkdown-operation.html"><a href="rmarkdown-operation.html#允许代码块中的标签重复-repeat-label"><i class="fa fa-check"></i><b>6.5.8</b> 允许代码块中的标签重复 (*) {#repeat-label}</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html"><i class="fa fa-check"></i><b>7</b> 使用R Markdown开展项目工作</a>
<ul>
<li class="chapter" data-level="7.1" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#project-manage"><i class="fa fa-check"></i><b>7.1</b> 使用 R Markdown 在工作中管理项目</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#external-r"><i class="fa fa-check"></i><b>7.1.1</b> 来自外部的 R 脚本</a></li>
<li class="chapter" data-level="7.1.2" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#external-read"><i class="fa fa-check"></i><b>7.1.2</b> 将外部脚本读取到一个块中</a></li>
<li class="chapter" data-level="7.1.3" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#从外部脚本读取多个代码块-external-multi"><i class="fa fa-check"></i><b>7.1.3</b> 从外部脚本读取多个代码块 (*) {#external-multi}</a></li>
<li class="chapter" data-level="7.1.4" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#子文档-child-document"><i class="fa fa-check"></i><b>7.1.4</b> 子文档 (*) {#child-document}</a></li>
<li class="chapter" data-level="7.1.5" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#keep-plot"><i class="fa fa-check"></i><b>7.1.5</b> 保留图像文件</a></li>
<li class="chapter" data-level="7.1.6" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#chunk-directory"><i class="fa fa-check"></i><b>7.1.6</b> R 代码块的工作目录</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#work-flow"><i class="fa fa-check"></i><b>7.2</b> 使用 R Markdown 实现工作流</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#rstudio-shortcut"><i class="fa fa-check"></i><b>7.2.1</b> 使用 RStudio 键盘快捷键</a></li>
<li class="chapter" data-level="7.2.2" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#spell-check"><i class="fa fa-check"></i><b>7.2.2</b> R Markdown 的拼写检查</a></li>
<li class="chapter" data-level="7.2.3" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#render-rmd"><i class="fa fa-check"></i><b>7.2.3</b> 用 rmarkdown::render() 呈现 R Markdown</a></li>
<li class="chapter" data-level="7.2.4" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#parameterized-reports"><i class="fa fa-check"></i><b>7.2.4</b> 参数化的报告</a></li>
<li class="chapter" data-level="7.2.5" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#自定义-knit-按钮-customize-button"><i class="fa fa-check"></i><b>7.2.5</b> 自定义 Knit 按钮 (*) {#customize-button}</a></li>
<li class="chapter" data-level="7.2.6" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#google-drive"><i class="fa fa-check"></i><b>7.2.6</b> 通过 Google Drive 对 Rmd 文档进行协作</a></li>
<li class="chapter" data-level="7.2.7" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#workflowr-web"><i class="fa fa-check"></i><b>7.2.7</b> 用 workflowr 将R Markdown项目组织到一个研究网站上</a></li>
<li class="chapter" data-level="7.2.8" data-path="rmarkdown-project.html"><a href="rmarkdown-project.html#github-actions"><i class="fa fa-check"></i><b>7.2.8</b> 使用 GitHub Actions 实现自动化部署</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>参考文献</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">本书由 bookdown 强力驱动</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Markdown 指南</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rmarkdown-operation" class="section level1" number="6">
<h1><span class="header-section-number">第 6 章</span> R Markdown 的操作技巧</h1>
<div id="table-advanced" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> 表格操作进阶</h2>
<p>在日常报告中，表格是展示结果的主要方式之一，例如下表展示了某中学某次考试的学生成绩：</p>
<table>
<thead>
<tr class="header">
<th align="left">姓名</th>
<th align="right">语文</th>
<th align="right">数学</th>
<th align="right">英语</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">张三</td>
<td align="right">89</td>
<td align="right">93</td>
<td align="right">92</td>
</tr>
<tr class="even">
<td align="left">李四</td>
<td align="right">90</td>
<td align="right">97</td>
<td align="right">85</td>
</tr>
<tr class="odd">
<td align="left">王五</td>
<td align="right">85</td>
<td align="right">91</td>
<td align="right">97</td>
</tr>
</tbody>
</table>
<p>然而，该成绩表并不美观，例如有些人习惯将内容居中，一般情况下给表格添加标题会更容易让人读懂，即得到表 <a href="rmarkdown-operation.html#tab:target-table">6.1</a> 的结果：</p>
<table>
<caption><span id="tab:target-table">表 6.1: </span>考试成绩</caption>
<thead>
<tr class="header">
<th align="center">姓名</th>
<th align="center">语文</th>
<th align="center">数学</th>
<th align="center">英语</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">张三</td>
<td align="center">89</td>
<td align="center">93</td>
<td align="center">92</td>
</tr>
<tr class="even">
<td align="center">李四</td>
<td align="center">90</td>
<td align="center">97</td>
<td align="center">85</td>
</tr>
<tr class="odd">
<td align="center">王五</td>
<td align="center">85</td>
<td align="center">91</td>
<td align="center">97</td>
</tr>
</tbody>
</table>
<p>除了居中操作以及添加标题外，在制作表格时还会产生各种各样的特定需求，例如合并单元格、添加底色等。本章将系统地介绍在 R Markdown 中生成表格和进一步对其个性化的方法，主要包括下列内容：</p>
<ul>
<li><p>介绍表格生成函数 <code>knitr::kable()</code> 的所有特征；</p></li>
<li><p>使用 <strong>kableExtra</strong> <span class="citation">(<a href="#ref-R-kableExtra" role="doc-biblioref">Zhu 2021</a>)</span> 包来展现更高级的个性化制作方法；</p></li>
<li><p>提供其它生成表格的 R 包以供读者参考。</p></li>
</ul>
<div id="table-complex" class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> 利用函数 <code>knitr::kable()</code> 生成复杂的表格</h3>
<p>在 R Markdown 中，通常使用 <strong>knitr</strong> 包中的函数 <code>kable()</code> 来快速创建一个表格。<code>kable()</code> 可以处理数据框、矩阵等“矩形数据”，快速生成表格，而表格的外观则可以通过修改函数参数来自定义，下面将对这些参数进行介绍：</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="rmarkdown-operation.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(x, format, <span class="at">digits =</span> <span class="fu">getOption</span>(<span class="st">&quot;digits&quot;</span>),</span>
<span id="cb157-2"><a href="rmarkdown-operation.html#cb157-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">row.names =</span> <span class="cn">NA</span>, <span class="at">col.names =</span> <span class="cn">NA</span>, align, <span class="at">caption =</span> <span class="cn">NULL</span>,</span>
<span id="cb157-3"><a href="rmarkdown-operation.html#cb157-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="cn">NULL</span>, <span class="at">format.args =</span> <span class="fu">list</span>(), <span class="at">escape =</span> <span class="cn">TRUE</span>,</span>
<span id="cb157-4"><a href="rmarkdown-operation.html#cb157-4" aria-hidden="true" tabindex="-1"></a>    ...)</span></code></pre></div>
<div id="kable-formats" class="section level4" number="6.1.1.1">
<h4><span class="header-section-number">6.1.1.1</span> 目前已支持的表的格式</h4>
<p>在大多数情况下，如果只需要制作一个简单表格，<code>knitr::kable(x)</code> 就足够了。其中 <code>format</code> 参数会根据 <strong>knitr</strong> 源文档自动设置。它可能的取值是 <code>pipe</code> （列与列之间由短的竖线分隔的表），<code>simple</code> （仅包含横向分割线 的简单表格），<code>latex</code> （LaTex 表格），<code>html</code> （HTML 表格），和 <code>rst</code> （reStructuredText 表格）。为了展示各个取值的不同，这里直接给出了各个取值在不同编程语言中的原始代码。</p>
<p>对于 R Markdown 文档，<code>kable()</code> 默认使用 <code>pipe</code> 格式的表格，输出结果如下所示：</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="rmarkdown-operation.html#cb158-1" aria-hidden="true" tabindex="-1"></a>grade <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(姓名 <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;张三&quot;</span>,<span class="st">&quot;李四&quot;</span>,<span class="st">&quot;王五&quot;</span>),</span>
<span id="cb158-2"><a href="rmarkdown-operation.html#cb158-2" aria-hidden="true" tabindex="-1"></a>                    语文 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">89</span>,<span class="dv">90</span>,<span class="dv">85</span>),</span>
<span id="cb158-3"><a href="rmarkdown-operation.html#cb158-3" aria-hidden="true" tabindex="-1"></a>                    数学 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">93</span>,<span class="dv">97</span>,<span class="dv">91</span>),</span>
<span id="cb158-4"><a href="rmarkdown-operation.html#cb158-4" aria-hidden="true" tabindex="-1"></a>                    英语 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">92</span>,<span class="dv">85</span>,<span class="dv">97</span>))</span>
<span id="cb158-5"><a href="rmarkdown-operation.html#cb158-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="st">&#39;pipe&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb159"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb159-1"><a href="rmarkdown-operation.html#cb159-1" aria-hidden="true" tabindex="-1"></a>|姓名 | 语文| 数学| 英语|</span>
<span id="cb159-2"><a href="rmarkdown-operation.html#cb159-2" aria-hidden="true" tabindex="-1"></a>|:----|----:|----:|----:|</span>
<span id="cb159-3"><a href="rmarkdown-operation.html#cb159-3" aria-hidden="true" tabindex="-1"></a>|张三 |   89|   93|   92|</span>
<span id="cb159-4"><a href="rmarkdown-operation.html#cb159-4" aria-hidden="true" tabindex="-1"></a>|李四 |   90|   97|   85|</span>
<span id="cb159-5"><a href="rmarkdown-operation.html#cb159-5" aria-hidden="true" tabindex="-1"></a>|王五 |   85|   91|   97|</span></code></pre></div>
<p>也可以生成一个（基于 Pandoc 的）简单的表格，或 HMTL、LaTex 以及 reStructuredText 格式的表格：</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="rmarkdown-operation.html#cb160-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="st">&#39;simple&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb161"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb161-1"><a href="rmarkdown-operation.html#cb161-1" aria-hidden="true" tabindex="-1"></a>姓名    语文   数学   英语</span>
<span id="cb161-2"><a href="rmarkdown-operation.html#cb161-2" aria-hidden="true" tabindex="-1"></a>-----  -----  -----  -----</span>
<span id="cb161-3"><a href="rmarkdown-operation.html#cb161-3" aria-hidden="true" tabindex="-1"></a>张三      89     93     92</span>
<span id="cb161-4"><a href="rmarkdown-operation.html#cb161-4" aria-hidden="true" tabindex="-1"></a>李四      90     97     85</span>
<span id="cb161-5"><a href="rmarkdown-operation.html#cb161-5" aria-hidden="true" tabindex="-1"></a>王五      85     91     97</span></code></pre></div>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="rmarkdown-operation.html#cb162-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="st">&#39;html&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb163"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb163-1"><a href="rmarkdown-operation.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;table&gt;</span></span>
<span id="cb163-2"><a href="rmarkdown-operation.html#cb163-2" aria-hidden="true" tabindex="-1"></a> <span class="kw">&lt;thead&gt;</span></span>
<span id="cb163-3"><a href="rmarkdown-operation.html#cb163-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;tr&gt;</span></span>
<span id="cb163-4"><a href="rmarkdown-operation.html#cb163-4" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;th</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="kw">&gt;</span> 姓名 <span class="kw">&lt;/th&gt;</span></span>
<span id="cb163-5"><a href="rmarkdown-operation.html#cb163-5" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;th</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 语文 <span class="kw">&lt;/th&gt;</span></span>
<span id="cb163-6"><a href="rmarkdown-operation.html#cb163-6" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;th</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 数学 <span class="kw">&lt;/th&gt;</span></span>
<span id="cb163-7"><a href="rmarkdown-operation.html#cb163-7" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;th</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 英语 <span class="kw">&lt;/th&gt;</span></span>
<span id="cb163-8"><a href="rmarkdown-operation.html#cb163-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb163-9"><a href="rmarkdown-operation.html#cb163-9" aria-hidden="true" tabindex="-1"></a> <span class="kw">&lt;/thead&gt;</span></span>
<span id="cb163-10"><a href="rmarkdown-operation.html#cb163-10" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;tbody&gt;</span></span>
<span id="cb163-11"><a href="rmarkdown-operation.html#cb163-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;tr&gt;</span></span>
<span id="cb163-12"><a href="rmarkdown-operation.html#cb163-12" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="kw">&gt;</span> 张三 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-13"><a href="rmarkdown-operation.html#cb163-13" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 89 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-14"><a href="rmarkdown-operation.html#cb163-14" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 93 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-15"><a href="rmarkdown-operation.html#cb163-15" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 92 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-16"><a href="rmarkdown-operation.html#cb163-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb163-17"><a href="rmarkdown-operation.html#cb163-17" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;tr&gt;</span></span>
<span id="cb163-18"><a href="rmarkdown-operation.html#cb163-18" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="kw">&gt;</span> 李四 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-19"><a href="rmarkdown-operation.html#cb163-19" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 90 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-20"><a href="rmarkdown-operation.html#cb163-20" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 97 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-21"><a href="rmarkdown-operation.html#cb163-21" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 85 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-22"><a href="rmarkdown-operation.html#cb163-22" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb163-23"><a href="rmarkdown-operation.html#cb163-23" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;tr&gt;</span></span>
<span id="cb163-24"><a href="rmarkdown-operation.html#cb163-24" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="kw">&gt;</span> 王五 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-25"><a href="rmarkdown-operation.html#cb163-25" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 85 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-26"><a href="rmarkdown-operation.html#cb163-26" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 91 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-27"><a href="rmarkdown-operation.html#cb163-27" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 97 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb163-28"><a href="rmarkdown-operation.html#cb163-28" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb163-29"><a href="rmarkdown-operation.html#cb163-29" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/tbody&gt;</span></span>
<span id="cb163-30"><a href="rmarkdown-operation.html#cb163-30" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/table&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="rmarkdown-operation.html#cb164-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="st">&#39;latex&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb165"><pre class="sourceCode tex"><code class="sourceCode latex"><span id="cb165-1"><a href="rmarkdown-operation.html#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">tabular</span>}{l|r|r|r}</span>
<span id="cb165-2"><a href="rmarkdown-operation.html#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb165-3"><a href="rmarkdown-operation.html#cb165-3" aria-hidden="true" tabindex="-1"></a>姓名 <span class="op">&amp;</span> 语文 <span class="op">&amp;</span> 数学 <span class="op">&amp;</span> 英语<span class="fu">\\</span></span>
<span id="cb165-4"><a href="rmarkdown-operation.html#cb165-4" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb165-5"><a href="rmarkdown-operation.html#cb165-5" aria-hidden="true" tabindex="-1"></a>张三 <span class="op">&amp;</span> 89 <span class="op">&amp;</span> 93 <span class="op">&amp;</span> 92<span class="fu">\\</span></span>
<span id="cb165-6"><a href="rmarkdown-operation.html#cb165-6" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb165-7"><a href="rmarkdown-operation.html#cb165-7" aria-hidden="true" tabindex="-1"></a>李四 <span class="op">&amp;</span> 90 <span class="op">&amp;</span> 97 <span class="op">&amp;</span> 85<span class="fu">\\</span></span>
<span id="cb165-8"><a href="rmarkdown-operation.html#cb165-8" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb165-9"><a href="rmarkdown-operation.html#cb165-9" aria-hidden="true" tabindex="-1"></a>王五 <span class="op">&amp;</span> 85 <span class="op">&amp;</span> 91 <span class="op">&amp;</span> 97<span class="fu">\\</span></span>
<span id="cb165-10"><a href="rmarkdown-operation.html#cb165-10" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb165-11"><a href="rmarkdown-operation.html#cb165-11" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">tabular</span>}</span></code></pre></div>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="rmarkdown-operation.html#cb166-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="st">&#39;rst&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb167"><pre class="sourceCode rst"><code class="sourceCode rest"><span id="cb167-1"><a href="rmarkdown-operation.html#cb167-1" aria-hidden="true" tabindex="-1"></a>====  ====  ====  ====</span>
<span id="cb167-2"><a href="rmarkdown-operation.html#cb167-2" aria-hidden="true" tabindex="-1"></a>姓名  语文  数学  英语</span>
<span id="cb167-3"><a href="rmarkdown-operation.html#cb167-3" aria-hidden="true" tabindex="-1"></a>====  ====  ====  ====</span>
<span id="cb167-4"><a href="rmarkdown-operation.html#cb167-4" aria-hidden="true" tabindex="-1"></a>张三    89    93    92</span>
<span id="cb167-5"><a href="rmarkdown-operation.html#cb167-5" aria-hidden="true" tabindex="-1"></a>李四    90    97    85</span>
<span id="cb167-6"><a href="rmarkdown-operation.html#cb167-6" aria-hidden="true" tabindex="-1"></a>王五    85    91    97</span>
<span id="cb167-7"><a href="rmarkdown-operation.html#cb167-7" aria-hidden="true" tabindex="-1"></a>====  ====  ====  ====</span></code></pre></div>
<p>需要注意的是，只有 <code>pipe</code> 和 <code>simple</code> 格式是“可移植”的，也就是说，它们适用于任何输出文档的格式，而其他格式则只适用于特定的输出格式，例如，<code>format = 'latex'</code> 只适用于 LaTex 输出文档。使用特定的表格格式可以带来更多的自主控制能力，但代价是牺牲了可移植性。</p>
<p>如果在一个报告中，只需要一种非默认的表格格式，可以直接设置全局的 R 选项 <code>knitr.table.format</code>。例如若只需要 LaTex 格式的表格，则可以设置：</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="rmarkdown-operation.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">knitr.table.format =</span> <span class="st">&#39;latex&#39;</span>)</span></code></pre></div>
<p>这一选项也可以是一个返回格式字符串或 <code>NULL</code> 的函数。在 <code>NULL</code> 的情况下，<strong>knitr</strong> 将自动决定适当的格式。例如，可以只在输出格式为 LaTeX 时使用 <code>latex</code> 格式:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="rmarkdown-operation.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">knitr.table.format =</span> <span class="cf">function</span>() {</span>
<span id="cb169-2"><a href="rmarkdown-operation.html#cb169-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (knitr<span class="sc">::</span><span class="fu">is_latex_output</span>()) <span class="st">&#39;latex&#39;</span> <span class="cf">else</span> <span class="st">&#39;pipe&#39;</span></span>
<span id="cb169-3"><a href="rmarkdown-operation.html#cb169-3" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="修改表的列名" class="section level4" number="6.1.1.2">
<h4><span class="header-section-number">6.1.1.2</span> 修改表的列名</h4>
<!-- https://stackoverflow.com/questions/51432502/replace-column-names-in-kable-r-markdown/51444998#51444998 -->
<p>在一些情况下，在数据框（data frame）中定义的列的名称可能与想要显示给读者的内容不同，需要进行修改。在使用英文时，数据的列名通常不使用空格来分隔单词，而是使用点、下划线以及大小写来进行分隔。而在制作表格时，这样的变量名会显得有些不自然。在中文环境下，虽然空格的问题较少，但也存在变量名过长的情况，在 R 中也往往使用简化的名词或对应的英文简写来代替。在这种情况下，可以使用 <code>col.names</code> 参数将列名替换为一个包含新名称的向量，即 <code>col.names = c(...)</code>。例如，可以在上文成绩表的列名中提供更多信息：</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="rmarkdown-operation.html#cb170-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, </span>
<span id="cb170-2"><a href="rmarkdown-operation.html#cb170-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.names =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">&#39;第1组&#39;</span>, <span class="fu">colnames</span>(grade))))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">第1组姓名</th>
<th align="right">第1组语文</th>
<th align="right">第1组数学</th>
<th align="right">第1组英语</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">张三</td>
<td align="right">89</td>
<td align="right">93</td>
<td align="right">92</td>
</tr>
<tr class="even">
<td align="left">李四</td>
<td align="right">90</td>
<td align="right">97</td>
<td align="right">85</td>
</tr>
<tr class="odd">
<td align="left">王五</td>
<td align="right">85</td>
<td align="right">91</td>
<td align="right">97</td>
</tr>
</tbody>
</table>
<p><code>col.names</code> 参数可以接受任意的字符向量（不一定是通过 <code>paste0()</code> 等函数修改的列名），只要向量的长度等于数据对象的列数即可，例如可以把列名换成英文：</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="rmarkdown-operation.html#cb171-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade,</span>
<span id="cb171-2"><a href="rmarkdown-operation.html#cb171-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&#39;Name&#39;</span>, <span class="st">&#39;Chinese&#39;</span>, <span class="st">&#39;Math&#39;</span>, <span class="st">&#39;English&#39;</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="right">Chinese</th>
<th align="right">Math</th>
<th align="right">English</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">张三</td>
<td align="right">89</td>
<td align="right">93</td>
<td align="right">92</td>
</tr>
<tr class="even">
<td align="left">李四</td>
<td align="right">90</td>
<td align="right">97</td>
<td align="right">85</td>
</tr>
<tr class="odd">
<td align="left">王五</td>
<td align="right">85</td>
<td align="right">91</td>
<td align="right">97</td>
</tr>
</tbody>
</table>
</div>
<div id="指定列的对齐方式" class="section level4" number="6.1.1.3">
<h4><span class="header-section-number">6.1.1.3</span> 指定列的对齐方式</h4>
<p>如果想要改变表格中列的对齐方式，可以使用由字符 <code>l</code> （left，左对齐）、<code>c</code> （center，居中）以及 <code>r</code> （right，右对齐）组成的值向量或一个多字符的字符串来进行对齐，即 <code>kable(..., align = c('c', 'l'))</code> 和 <code>kable(..., align = 'cl')</code> 是等价的。在默认情况下，数字列是右对齐的，其他列是左对齐的。例如可以对成绩表进行调整，使得前两列右对齐，后两列左对齐：</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="rmarkdown-operation.html#cb172-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">align =</span> <span class="st">&#39;rrll&#39;</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">姓名</th>
<th align="right">语文</th>
<th align="left">数学</th>
<th align="left">英语</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">张三</td>
<td align="right">89</td>
<td align="left">93</td>
<td align="left">92</td>
</tr>
<tr class="even">
<td align="right">李四</td>
<td align="right">90</td>
<td align="left">97</td>
<td align="left">85</td>
</tr>
<tr class="odd">
<td align="right">王五</td>
<td align="right">85</td>
<td align="left">91</td>
<td align="left">97</td>
</tr>
</tbody>
</table>
<p>而当对齐方式统一时，也可以用一个字母来代替，例如可以把成绩表所有列都居中表示：</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="rmarkdown-operation.html#cb173-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">align =</span> <span class="st">&#39;c&#39;</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="center">姓名</th>
<th align="center">语文</th>
<th align="center">数学</th>
<th align="center">英语</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">张三</td>
<td align="center">89</td>
<td align="center">93</td>
<td align="center">92</td>
</tr>
<tr class="even">
<td align="center">李四</td>
<td align="center">90</td>
<td align="center">97</td>
<td align="center">85</td>
</tr>
<tr class="odd">
<td align="center">王五</td>
<td align="center">85</td>
<td align="center">91</td>
<td align="center">97</td>
</tr>
</tbody>
</table>
</div>
<div id="kable-caption" class="section level4" number="6.1.1.4">
<h4><span class="header-section-number">6.1.1.4</span> 添加表格标题</h4>
<p>给表格添加标题需要用到 <code>caption</code> 参数，如表 <a href="rmarkdown-operation.html#tab:kable-cap">6.2</a> 所示：</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="rmarkdown-operation.html#cb174-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">caption =</span> <span class="st">&#39;考试成绩&#39;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:kable-cap">表 6.2: </span>考试成绩</caption>
<thead>
<tr class="header">
<th align="left">姓名</th>
<th align="right">语文</th>
<th align="right">数学</th>
<th align="right">英语</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">张三</td>
<td align="right">89</td>
<td align="right">93</td>
<td align="right">92</td>
</tr>
<tr class="even">
<td align="left">李四</td>
<td align="right">90</td>
<td align="right">97</td>
<td align="right">85</td>
</tr>
<tr class="odd">
<td align="left">王五</td>
<td align="right">85</td>
<td align="right">91</td>
<td align="right">97</td>
</tr>
</tbody>
</table>
<p>正如本书<a href="rmarkdown-base.html#element-quote">2.6.4</a>节所提到的那样，当一个表格有标题并且以 <strong>bookdown</strong> 来输出格式时，它可以被交叉引用，而在基础的 <code>html_document</code> 和 <code>pdf_document</code> 中则不行。</p>
</div>
<div id="调整数字格式" class="section level4" number="6.1.1.5">
<h4><span class="header-section-number">6.1.1.5</span> 调整数字格式</h4>
<p>有的时候，表格中的数字位数很长，展示的时候需要缩短，这时可以通过 <code>digits</code> 参数（会被传递给 <code>round()</code> 函数）来设置最大的小数位数，以及通过 <code>format.args</code>（会被传递给 R 中的 <code>format()</code> 函数）来设置其他格式化参数。</p>
<p>首先是几个简单的 <code>round()</code> 和 <code>format()</code> 的例子，从而可以更好地理解之后的 <code>kable()</code> 中 <code>digits</code> 参数是如何工作的:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="rmarkdown-operation.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">1.234567</span>, <span class="dv">0</span>)</span>
<span id="cb175-2"><a href="rmarkdown-operation.html#cb175-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span>
<span id="cb175-3"><a href="rmarkdown-operation.html#cb175-3" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">1.234567</span>, <span class="at">digits =</span> <span class="dv">1</span>)</span>
<span id="cb175-4"><a href="rmarkdown-operation.html#cb175-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1.2</span></span>
<span id="cb175-5"><a href="rmarkdown-operation.html#cb175-5" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">1.234567</span>, <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb175-6"><a href="rmarkdown-operation.html#cb175-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1.235</span></span>
<span id="cb175-7"><a href="rmarkdown-operation.html#cb175-7" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(<span class="dv">1000</span>, <span class="at">scientific =</span> <span class="cn">TRUE</span>)</span>
<span id="cb175-8"><a href="rmarkdown-operation.html#cb175-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;1e+03&quot;</span></span>
<span id="cb175-9"><a href="rmarkdown-operation.html#cb175-9" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(<span class="fl">10000.123</span>, <span class="at">big.mark =</span> <span class="st">&#39;,&#39;</span>)</span>
<span id="cb175-10"><a href="rmarkdown-operation.html#cb175-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;10,000.12&quot;</span></span></code></pre></div>
<p>可以将数字四舍五入并格式化成表格：</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="rmarkdown-operation.html#cb176-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">=</span> <span class="fu">cbind</span>(<span class="at">X1 =</span> <span class="fu">runif</span>(<span class="dv">3</span>), </span>
<span id="cb176-2"><a href="rmarkdown-operation.html#cb176-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">X2 =</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>), </span>
<span id="cb176-3"><a href="rmarkdown-operation.html#cb176-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">X3 =</span> <span class="fu">rnorm</span>(<span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">1000</span>))</span>
<span id="cb176-4"><a href="rmarkdown-operation.html#cb176-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 保留最多四位小数</span></span>
<span id="cb176-5"><a href="rmarkdown-operation.html#cb176-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(d, <span class="at">digits =</span> <span class="dv">4</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">X1</th>
<th align="right">X2</th>
<th align="right">X3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.4513</td>
<td align="right">1e+03</td>
<td align="right">-300.9029</td>
</tr>
<tr class="even">
<td align="right">0.7838</td>
<td align="right">1e+05</td>
<td align="right">528.2758</td>
</tr>
<tr class="odd">
<td align="right">0.7097</td>
<td align="right">1e+07</td>
<td align="right">-622.8860</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="rmarkdown-operation.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 每列分别设置</span></span>
<span id="cb177-2"><a href="rmarkdown-operation.html#cb177-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(d, <span class="at">digits =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">2</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">X1</th>
<th align="right">X2</th>
<th align="right">X3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.45127</td>
<td align="right">1e+03</td>
<td align="right">-300.90</td>
</tr>
<tr class="even">
<td align="right">0.78378</td>
<td align="right">1e+05</td>
<td align="right">528.28</td>
</tr>
<tr class="odd">
<td align="right">0.70968</td>
<td align="right">1e+07</td>
<td align="right">-622.89</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="rmarkdown-operation.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 不使用科学计数法</span></span>
<span id="cb178-2"><a href="rmarkdown-operation.html#cb178-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(d, <span class="at">digits =</span> <span class="dv">3</span>, </span>
<span id="cb178-3"><a href="rmarkdown-operation.html#cb178-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">format.args =</span> <span class="fu">list</span>(<span class="at">scientific =</span> <span class="cn">FALSE</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">X1</th>
<th align="right">X2</th>
<th align="right">X3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.451</td>
<td align="right">1000</td>
<td align="right">-300.903</td>
</tr>
<tr class="even">
<td align="right">0.784</td>
<td align="right">100000</td>
<td align="right">528.276</td>
</tr>
<tr class="odd">
<td align="right">0.710</td>
<td align="right">10000000</td>
<td align="right">-622.886</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="rmarkdown-operation.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 给 big numbers 添加逗号</span></span>
<span id="cb179-2"><a href="rmarkdown-operation.html#cb179-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(d, <span class="at">digits =</span> <span class="dv">3</span>, </span>
<span id="cb179-3"><a href="rmarkdown-operation.html#cb179-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">format.args =</span> <span class="fu">list</span>(<span class="at">big.mark =</span> <span class="st">&#39;,&#39;</span>, </span>
<span id="cb179-4"><a href="rmarkdown-operation.html#cb179-4" aria-hidden="true" tabindex="-1"></a>                                <span class="at">scientific =</span> <span class="cn">FALSE</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">X1</th>
<th align="right">X2</th>
<th align="right">X3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.451</td>
<td align="right">1,000</td>
<td align="right">-300.903</td>
</tr>
<tr class="even">
<td align="right">0.784</td>
<td align="right">100,000</td>
<td align="right">528.276</td>
</tr>
<tr class="odd">
<td align="right">0.710</td>
<td align="right">10,000,000</td>
<td align="right">-622.886</td>
</tr>
</tbody>
</table>
</div>
<div id="显示缺失值" class="section level4" number="6.1.1.6">
<h4><span class="header-section-number">6.1.1.6</span> 显示缺失值</h4>
<p>有的时候，表中可能会存在缺失值，如该学生没有缺考或没有选修某个课。在默认情况下，R 中缺失值（如<code>NA</code>）在表格中显示为字符串<code>NA</code>，如：</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="rmarkdown-operation.html#cb180-1" aria-hidden="true" tabindex="-1"></a>grade2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(姓名 <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;张三&quot;</span>,<span class="st">&quot;李四&quot;</span>,<span class="st">&quot;王五&quot;</span>),</span>
<span id="cb180-2"><a href="rmarkdown-operation.html#cb180-2" aria-hidden="true" tabindex="-1"></a>                     物理 <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="dv">90</span>,<span class="dv">85</span>),</span>
<span id="cb180-3"><a href="rmarkdown-operation.html#cb180-3" aria-hidden="true" tabindex="-1"></a>                     政治 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">93</span>,<span class="dv">97</span>,<span class="cn">NA</span>),</span>
<span id="cb180-4"><a href="rmarkdown-operation.html#cb180-4" aria-hidden="true" tabindex="-1"></a>                     计算机 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">92</span>,<span class="cn">NA</span>,<span class="dv">97</span>))</span>
<span id="cb180-5"><a href="rmarkdown-operation.html#cb180-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade2)  <span class="co"># 默认显示 NA</span></span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">姓名</th>
<th align="right">物理</th>
<th align="right">政治</th>
<th align="right">计算机</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">张三</td>
<td align="right">NA</td>
<td align="right">93</td>
<td align="right">92</td>
</tr>
<tr class="even">
<td align="left">李四</td>
<td align="right">90</td>
<td align="right">97</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">王五</td>
<td align="right">85</td>
<td align="right">NA</td>
<td align="right">97</td>
</tr>
</tbody>
</table>
<p>为了表格美观，也可以使用其他的值来替换它们，或者通过使用全局 R 选项 <code>knitr.kable.NA</code>来调整显示的内容（例如使<code>NA</code>对应的单元格为空）。例如，可以将下面第一个表中的<code>NA</code>单元格设为空，然后在第二个表中显示<code>**</code>：</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="rmarkdown-operation.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 用空值代替 NA</span></span>
<span id="cb181-2"><a href="rmarkdown-operation.html#cb181-2" aria-hidden="true" tabindex="-1"></a>opts <span class="ot">=</span> <span class="fu">options</span>(<span class="at">knitr.kable.NA =</span> <span class="st">&#39;&#39;</span>)</span>
<span id="cb181-3"><a href="rmarkdown-operation.html#cb181-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade2)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">姓名</th>
<th align="right">物理</th>
<th align="right">政治</th>
<th align="right">计算机</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">张三</td>
<td align="right"></td>
<td align="right">93</td>
<td align="right">92</td>
</tr>
<tr class="even">
<td align="left">李四</td>
<td align="right">90</td>
<td align="right">97</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">王五</td>
<td align="right">85</td>
<td align="right"></td>
<td align="right">97</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="rmarkdown-operation.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 用指定字符（**） 代替 NA</span></span>
<span id="cb182-2"><a href="rmarkdown-operation.html#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">knitr.kable.NA =</span> <span class="st">&#39;**&#39;</span>)</span>
<span id="cb182-3"><a href="rmarkdown-operation.html#cb182-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade2)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">姓名</th>
<th align="right">物理</th>
<th align="right">政治</th>
<th align="right">计算机</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">张三</td>
<td align="right">**</td>
<td align="right">93</td>
<td align="right">92</td>
</tr>
<tr class="even">
<td align="left">李四</td>
<td align="right">90</td>
<td align="right">97</td>
<td align="right">**</td>
</tr>
<tr class="odd">
<td align="left">王五</td>
<td align="right">85</td>
<td align="right">**</td>
<td align="right">97</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="rmarkdown-operation.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(opts)  <span class="co"># 恢复全局 R 选项</span></span></code></pre></div>
</div>
<div id="特殊字符的转义" class="section level4" number="6.1.1.7">
<h4><span class="header-section-number">6.1.1.7</span> 特殊字符的转义</h4>
<p>HTML 或者 LaTeX 对应的编程语言之中包含了一些特殊的字符，例如在 LaTeX 中输入公式可能需要的 <code>$</code> 等。为了使结果能够正常输出，<code>kable()</code> 将默认通过参数 <code>escape = TRUE</code> 来“转义”这些特殊字符，即令这些特殊字符失去其特殊含义，使得所有的字符可以逐字生成，而不会生成特殊符号（如 <code>\beta</code> 将不会自动显示为 <span class="math inline">\(\beta\)</span>）。例如对于 HTML 格式的表格，<code>&gt;</code> 将被替换为 <code>&amp;gt;</code>；而对于 LaTeX 格式的表格，<code>_</code> 将被转义为 <code>\_</code> <a href="references.html#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a>。</p>
<p>如果接触过这些字符，并且知道如何正确使用它们，那么可以通过 <code>escape = FALSE</code> 来禁用这个参数，但要注意必须确保特殊字符不会在 LaTeX 或 HTML 中触发语法错误。表 <a href="rmarkdown-operation.html#tab:latex-math-escape">6.3</a> 展示了转义之后的结果，表 <a href="rmarkdown-operation.html#tab:latex-math">6.4</a> 则展示了一些包含特殊字符（<code>$</code>、<code>\</code> 以及 <code>_</code>）的 LaTeX 数学表达式：</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="rmarkdown-operation.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加数学表达式</span></span>
<span id="cb184-2"><a href="rmarkdown-operation.html#cb184-2" aria-hidden="true" tabindex="-1"></a>g_range <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(成绩范围 <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">ge 90$&quot;</span>,<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">ge 80$&quot;</span>,</span>
<span id="cb184-3"><a href="rmarkdown-operation.html#cb184-3" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">ge 70$&quot;</span>),</span>
<span id="cb184-4"><a href="rmarkdown-operation.html#cb184-4" aria-hidden="true" tabindex="-1"></a>                    语文 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">10</span>,<span class="dv">20</span>),</span>
<span id="cb184-5"><a href="rmarkdown-operation.html#cb184-5" aria-hidden="true" tabindex="-1"></a>                    数学 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">16</span>),</span>
<span id="cb184-6"><a href="rmarkdown-operation.html#cb184-6" aria-hidden="true" tabindex="-1"></a>                    英语 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">15</span>,<span class="dv">20</span>))</span>
<span id="cb184-7"><a href="rmarkdown-operation.html#cb184-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(g_range) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;成绩范围&quot;</span>,</span>
<span id="cb184-8"><a href="rmarkdown-operation.html#cb184-8" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;$Chinese_{Jan}$&quot;</span>,</span>
<span id="cb184-9"><a href="rmarkdown-operation.html#cb184-9" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;$Math_{Jan}$&quot;</span>,</span>
<span id="cb184-10"><a href="rmarkdown-operation.html#cb184-10" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;$English_{Jan}$&quot;</span>)</span>
<span id="cb184-11"><a href="rmarkdown-operation.html#cb184-11" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(g_range, <span class="at">escape =</span> <span class="cn">TRUE</span>,</span>
<span id="cb184-12"><a href="rmarkdown-operation.html#cb184-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="st">&quot;escape = TRUE 生成的表&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:latex-math-escape">表 6.3: </span>escape = TRUE 生成的表</caption>
<thead>
<tr class="header">
<th align="left">成绩范围</th>
<th align="right"><span class="math inline">\(Chinese_{Jan}\)</span></th>
<th align="right"><span class="math inline">\(Math_{Jan}\)</span></th>
<th align="right"><span class="math inline">\(English_{Jan}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><span class="math inline">\(\ge 90\)</span></td>
<td align="right">6</td>
<td align="right">3</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left"><span class="math inline">\(\ge 80\)</span></td>
<td align="right">10</td>
<td align="right">7</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="left"><span class="math inline">\(\ge 70\)</span></td>
<td align="right">20</td>
<td align="right">16</td>
<td align="right">20</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="rmarkdown-operation.html#cb185-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(g_range, <span class="at">escape =</span> <span class="cn">FALSE</span>,</span>
<span id="cb185-2"><a href="rmarkdown-operation.html#cb185-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="st">&quot;escape = FALSE 生成的表&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:latex-math">表 6.4: </span>escape = FALSE 生成的表</caption>
<thead>
<tr class="header">
<th align="left">成绩范围</th>
<th align="right"><span class="math inline">\(Chinese_{Jan}\)</span></th>
<th align="right"><span class="math inline">\(Math_{Jan}\)</span></th>
<th align="right"><span class="math inline">\(English_{Jan}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><span class="math inline">\(\ge 90\)</span></td>
<td align="right">6</td>
<td align="right">3</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left"><span class="math inline">\(\ge 80\)</span></td>
<td align="right">10</td>
<td align="right">7</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="left"><span class="math inline">\(\ge 70\)</span></td>
<td align="right">20</td>
<td align="right">16</td>
<td align="right">20</td>
</tr>
</tbody>
</table>
<p>如表 <a href="rmarkdown-operation.html#tab:latex-math-escape">6.3</a> 所示，如果设置 <code>escape = TRUE</code>，特殊字符将被转义或替换。例如，在 LaTeX 格式的表格中，<code>$</code> 会被转义为 <code>\$</code>、<code>_</code> 被转义为 <code>\_</code> 以及 <code>\</code> 被替换为 <code>\textbackslash{}</code>：</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="rmarkdown-operation.html#cb186-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(g_range[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="at">format =</span> <span class="st">&#39;latex&#39;</span>, <span class="at">escape =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb187"><pre class="sourceCode tex"><code class="sourceCode latex"><span id="cb187-1"><a href="rmarkdown-operation.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">tabular</span>}{l|r}</span>
<span id="cb187-2"><a href="rmarkdown-operation.html#cb187-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb187-3"><a href="rmarkdown-operation.html#cb187-3" aria-hidden="true" tabindex="-1"></a>成绩范围 <span class="op">&amp;</span> <span class="fu">\$</span>Chinese<span class="fu">\_\{</span>Jan<span class="fu">\}\$\\</span></span>
<span id="cb187-4"><a href="rmarkdown-operation.html#cb187-4" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb187-5"><a href="rmarkdown-operation.html#cb187-5" aria-hidden="true" tabindex="-1"></a><span class="fu">\$\textbackslash</span>{}ge 90<span class="fu">\$</span> <span class="op">&amp;</span> 6<span class="fu">\\</span></span>
<span id="cb187-6"><a href="rmarkdown-operation.html#cb187-6" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb187-7"><a href="rmarkdown-operation.html#cb187-7" aria-hidden="true" tabindex="-1"></a><span class="fu">\$\textbackslash</span>{}ge 80<span class="fu">\$</span> <span class="op">&amp;</span> 10<span class="fu">\\</span></span>
<span id="cb187-8"><a href="rmarkdown-operation.html#cb187-8" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb187-9"><a href="rmarkdown-operation.html#cb187-9" aria-hidden="true" tabindex="-1"></a><span class="fu">\$\textbackslash</span>{}ge 70<span class="fu">\$</span> <span class="op">&amp;</span> 20<span class="fu">\\</span></span>
<span id="cb187-10"><a href="rmarkdown-operation.html#cb187-10" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb187-11"><a href="rmarkdown-operation.html#cb187-11" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">tabular</span>}</span></code></pre></div>
<p>其他 LaTeX 中常见的特殊字符包括<code>#</code>、<code>%</code>、<code>&amp;</code>、<code>{</code> 以及 <code>}</code>；HTML 中常见的特殊字符包括<code>&amp;</code>、<code>&lt;</code>、 <code>&gt;</code> 以及 <code>"</code>。在生成带有 <code>escape = FALSE</code> 的表格时，需要格外小心并确保正确地使用了特殊字符。一个常见的错误是在使用 <code>escape = FALSE</code> 时，在 LaTeX 表格的列名或标题中包含 <code>%</code> 或 <code>_</code> 等字符，而没有意识到它们是特殊的字符。</p>
<p>如果想知道 <code>escape = TRUE</code> 参数会如何转义特殊字符，可以通过 <strong>knitr</strong> 中两个内部辅助函数 <code>escape_latex</code> 和 <code>escape_html</code> 来分别查询在 LaTeX 和 HTML 格式的表格中的转义结果：。下面是一些例子：</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="rmarkdown-operation.html#cb188-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">:::</span><span class="fu">escape_latex</span>(<span class="fu">c</span>(<span class="st">&#39;100%&#39;</span>, <span class="st">&#39;# 一个观点&#39;</span>, <span class="st">&#39;文字_1&#39;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;100\\%&quot;       &quot;\\# 一个观点&quot; &quot;文字\\_1&quot;</code></pre>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="rmarkdown-operation.html#cb190-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">:::</span><span class="fu">escape_html</span>(<span class="fu">c</span>(<span class="st">&#39;&lt;address&gt;&#39;</span>, <span class="st">&#39;x = &quot;字符&quot;&#39;</span>, <span class="st">&#39;a &amp; b&#39;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;&amp;lt;address&amp;gt;&quot;      &quot;x = &amp;quot;字符&amp;quot;&quot; &quot;a &amp;amp; b&quot;</code></pre>
</div>
<div id="多张表格并排" class="section level4" number="6.1.1.8">
<h4><span class="header-section-number">6.1.1.8</span> 多张表格并排</h4>
<p>有的时候，将多张表格并排放置可以便于比较，将数据框或矩阵以列表的形式传递给 <code>kable()</code> 就可以实现这一功能。例如，表 <a href="rmarkdown-operation.html#tab:two-tables">6.5</a> 包含了之前展示过的两张表：</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="rmarkdown-operation.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 数据对象 grade 和 grade2 由之前的代码块生成</span></span>
<span id="cb192-2"><a href="rmarkdown-operation.html#cb192-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb192-3"><a href="rmarkdown-operation.html#cb192-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(grade, grade2),</span>
<span id="cb192-4"><a href="rmarkdown-operation.html#cb192-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">&#39;两张表并排放置&#39;</span>,</span>
<span id="cb192-5"><a href="rmarkdown-operation.html#cb192-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">booktabs =</span> <span class="cn">TRUE</span>, <span class="at">valign =</span> <span class="st">&#39;t&#39;</span></span>
<span id="cb192-6"><a href="rmarkdown-operation.html#cb192-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<table class="kable_wrapper">
<caption>
<span id="tab:two-tables">表 6.5: </span>两张表并排放置
</caption>
<tbody>
<tr>
<td>
<table>
<thead>
<tr class="header">
<th align="left">姓名</th>
<th align="right">语文</th>
<th align="right">数学</th>
<th align="right">英语</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">张三</td>
<td align="right">89</td>
<td align="right">93</td>
<td align="right">92</td>
</tr>
<tr class="even">
<td align="left">李四</td>
<td align="right">90</td>
<td align="right">97</td>
<td align="right">85</td>
</tr>
<tr class="odd">
<td align="left">王五</td>
<td align="right">85</td>
<td align="right">91</td>
<td align="right">97</td>
</tr>
</tbody>
</table>
</td>
<td>
<table>
<thead>
<tr class="header">
<th align="left">姓名</th>
<th align="right">物理</th>
<th align="right">政治</th>
<th align="right">计算机</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">张三</td>
<td align="right">NA</td>
<td align="right">93</td>
<td align="right">92</td>
</tr>
<tr class="even">
<td align="left">李四</td>
<td align="right">90</td>
<td align="right">97</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">王五</td>
<td align="right">85</td>
<td align="right">NA</td>
<td align="right">97</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<p>需要注意的是，此功能仅适用于 HTML 和 PDF 格式的输出。</p>
<p>另外，如果在并排放置各个表的时候，想能够分别自定义它们，可以使用 <code>kables()</code> 函数（即 <code>kable()</code> 的复数形式），并将一个对象为 <code>kable()</code> 的列表传递给它。例如，在表 <a href="rmarkdown-operation.html#tab:kables">6.6</a> 中，可以更改左表中的列名，并将右表中的小数点位数设置为 4：</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="rmarkdown-operation.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 数据对象 grade 和 d 由之前的代码块生成</span></span>
<span id="cb193-2"><a href="rmarkdown-operation.html#cb193-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kables</span>(</span>
<span id="cb193-3"><a href="rmarkdown-operation.html#cb193-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb193-4"><a href="rmarkdown-operation.html#cb193-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 第一个 kable()：修改列名</span></span>
<span id="cb193-5"><a href="rmarkdown-operation.html#cb193-5" aria-hidden="true" tabindex="-1"></a>    knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb193-6"><a href="rmarkdown-operation.html#cb193-6" aria-hidden="true" tabindex="-1"></a>      grade, </span>
<span id="cb193-7"><a href="rmarkdown-operation.html#cb193-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&#39;Name&#39;</span>, <span class="st">&#39;Chinese&#39;</span>, <span class="st">&#39;Math&#39;</span>, <span class="st">&#39;English&#39;</span>), </span>
<span id="cb193-8"><a href="rmarkdown-operation.html#cb193-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">valign =</span> <span class="st">&#39;t&#39;</span></span>
<span id="cb193-9"><a href="rmarkdown-operation.html#cb193-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb193-10"><a href="rmarkdown-operation.html#cb193-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 第二个 kable()：设置 digits 选项</span></span>
<span id="cb193-11"><a href="rmarkdown-operation.html#cb193-11" aria-hidden="true" tabindex="-1"></a>    knitr<span class="sc">::</span><span class="fu">kable</span>(d, <span class="at">digits =</span> <span class="dv">4</span>, <span class="at">valign =</span> <span class="st">&#39;t&#39;</span>)</span>
<span id="cb193-12"><a href="rmarkdown-operation.html#cb193-12" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb193-13"><a href="rmarkdown-operation.html#cb193-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">&#39;由 knitr::kables() 生成的两张表&#39;</span></span>
<span id="cb193-14"><a href="rmarkdown-operation.html#cb193-14" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<table class="kable_wrapper">
<caption>
<span id="tab:kables">表 6.6: </span>由 knitr::kables() 生成的两张表
</caption>
<tbody>
<tr>
<td>
<table>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="right">Chinese</th>
<th align="right">Math</th>
<th align="right">English</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">张三</td>
<td align="right">89</td>
<td align="right">93</td>
<td align="right">92</td>
</tr>
<tr class="even">
<td align="left">李四</td>
<td align="right">90</td>
<td align="right">97</td>
<td align="right">85</td>
</tr>
<tr class="odd">
<td align="left">王五</td>
<td align="right">85</td>
<td align="right">91</td>
<td align="right">97</td>
</tr>
</tbody>
</table>
</td>
<td>
<table>
<thead>
<tr class="header">
<th align="right">X1</th>
<th align="right">X2</th>
<th align="right">X3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.4513</td>
<td align="right">1e+03</td>
<td align="right">-300.9029</td>
</tr>
<tr class="even">
<td align="right">0.7838</td>
<td align="right">1e+05</td>
<td align="right">528.2758</td>
</tr>
<tr class="odd">
<td align="right">0.7097</td>
<td align="right">1e+07</td>
<td align="right">-622.8860</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<div id="利用for循环生成多个表" class="section level4" number="6.1.1.9">
<h4><span class="header-section-number">6.1.1.9</span> 利用<code>for</code>循环生成多个表 (*)</h4>
<p>对于 <code>kable()</code>，有一个常见的错误认识是它不能在 <code>for</code> 循环中工作。这个问题并不特定于 <code>kable()</code>，同时也存在于许多其他的 R 包中。其背后原因较为复杂,对技术细节感兴趣的读者可以参考博文 <a href="https://yihui.org/en/2017/06/top-level-r-expressions/">“The Ghost Printer behind Top-level R Expressions.”</a>。</p>
<p>例如，直观上下面的代码块可能可以生成三个表，但事实上它并不会：</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb194-1"><a href="rmarkdown-operation.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb194-2"><a href="rmarkdown-operation.html#cb194-2" aria-hidden="true" tabindex="-1"></a><span class="in">for (i in 1:3) {</span></span>
<span id="cb194-3"><a href="rmarkdown-operation.html#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="in">  knitr::kable(grade)</span></span>
<span id="cb194-4"><a href="rmarkdown-operation.html#cb194-4" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb194-5"><a href="rmarkdown-operation.html#cb194-5" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>若想要实现生成多个表的目的，则必须显式打印 <code>kable()</code> 结果，并应用块选项 <code>results = 'asis'</code>，例如：</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb195-1"><a href="rmarkdown-operation.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, results=&#39;asis&#39;}</span></span>
<span id="cb195-2"><a href="rmarkdown-operation.html#cb195-2" aria-hidden="true" tabindex="-1"></a><span class="in">for (i in 1:3) {</span></span>
<span id="cb195-3"><a href="rmarkdown-operation.html#cb195-3" aria-hidden="true" tabindex="-1"></a><span class="in">  print(knitr::kable(grade))</span></span>
<span id="cb195-4"><a href="rmarkdown-operation.html#cb195-4" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb195-5"><a href="rmarkdown-operation.html#cb195-5" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>通常情况下，在利用 <code>for</code> 循环输出结果时，最好添加一些换行符（<code>\n</code>）或 HTML 注释（<code>&lt;!-- --&gt;</code>），从而清晰地分隔所有输出的元素，例如：</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb196-1"><a href="rmarkdown-operation.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, results=&#39;asis&#39;}</span></span>
<span id="cb196-2"><a href="rmarkdown-operation.html#cb196-2" aria-hidden="true" tabindex="-1"></a><span class="in">for (i in 1:3) {</span></span>
<span id="cb196-3"><a href="rmarkdown-operation.html#cb196-3" aria-hidden="true" tabindex="-1"></a><span class="in">  print(knitr::kable(grade, caption = &#39;标题&#39;))</span></span>
<span id="cb196-4"><a href="rmarkdown-operation.html#cb196-4" aria-hidden="true" tabindex="-1"></a><span class="in">  cat(&#39;\n\n&lt;!-- --&gt;\n\n&#39;)</span></span>
<span id="cb196-5"><a href="rmarkdown-operation.html#cb196-5" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb196-6"><a href="rmarkdown-operation.html#cb196-6" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>如果没有这些分隔符，Pandoc 可能无法检测到单个元素。例如，当一个图片之后面紧跟着一个表格时，这个表格并不会被识别到：</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb197-1"><a href="rmarkdown-operation.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="al">![](logo.png)</span></span>
<span id="cb197-2"><a href="rmarkdown-operation.html#cb197-2" aria-hidden="true" tabindex="-1"></a>姓名    语文   数学   英语</span>
<span id="cb197-3"><a href="rmarkdown-operation.html#cb197-3" aria-hidden="true" tabindex="-1"></a>-----  -----  -----  -----</span>
<span id="cb197-4"><a href="rmarkdown-operation.html#cb197-4" aria-hidden="true" tabindex="-1"></a>张三      89     93     92</span>
<span id="cb197-5"><a href="rmarkdown-operation.html#cb197-5" aria-hidden="true" tabindex="-1"></a>李四      90     97     85</span>
<span id="cb197-6"><a href="rmarkdown-operation.html#cb197-6" aria-hidden="true" tabindex="-1"></a>王五      85     91     97</span></code></pre></div>
<p>但如果像这样有一个清晰的分隔（注意，在图像下面添加了一个空行），它将变成：</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb198-1"><a href="rmarkdown-operation.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="al">![](logo.png)</span></span>
<span id="cb198-2"><a href="rmarkdown-operation.html#cb198-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-3"><a href="rmarkdown-operation.html#cb198-3" aria-hidden="true" tabindex="-1"></a>姓名    语文   数学   英语</span>
<span id="cb198-4"><a href="rmarkdown-operation.html#cb198-4" aria-hidden="true" tabindex="-1"></a>-----  -----  -----  -----</span>
<span id="cb198-5"><a href="rmarkdown-operation.html#cb198-5" aria-hidden="true" tabindex="-1"></a>张三      89     93     92</span>
<span id="cb198-6"><a href="rmarkdown-operation.html#cb198-6" aria-hidden="true" tabindex="-1"></a>李四      90     97     85</span>
<span id="cb198-7"><a href="rmarkdown-operation.html#cb198-7" aria-hidden="true" tabindex="-1"></a>王五      85     91     97</span></code></pre></div>
<p>或者</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb199-1"><a href="rmarkdown-operation.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="al">![](logo.png)</span></span>
<span id="cb199-2"><a href="rmarkdown-operation.html#cb199-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-3"><a href="rmarkdown-operation.html#cb199-3" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- --&gt;</span></span>
<span id="cb199-4"><a href="rmarkdown-operation.html#cb199-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-5"><a href="rmarkdown-operation.html#cb199-5" aria-hidden="true" tabindex="-1"></a>姓名    语文   数学   英语</span>
<span id="cb199-6"><a href="rmarkdown-operation.html#cb199-6" aria-hidden="true" tabindex="-1"></a>-----  -----  -----  -----</span>
<span id="cb199-7"><a href="rmarkdown-operation.html#cb199-7" aria-hidden="true" tabindex="-1"></a>张三      89     93     92</span>
<span id="cb199-8"><a href="rmarkdown-operation.html#cb199-8" aria-hidden="true" tabindex="-1"></a>李四      90     97     85</span>
<span id="cb199-9"><a href="rmarkdown-operation.html#cb199-9" aria-hidden="true" tabindex="-1"></a>王五      85     91     97</span></code></pre></div>
</div>
<div id="自定义-latex-表格" class="section level4" number="6.1.1.10">
<h4><span class="header-section-number">6.1.1.10</span> 自定义 LaTeX 表格 (*)</h4>
<p>如果只需要 LaTeX 格式的输出时，可以在 <code>kable()</code> 中使用一些额外的选项。注意在其他类型的输出中（如 HTML），这些选项将被忽略。除非已经设置了全局的表格格式选项（见本书 <a href="rmarkdown-operation.html#kable-formats">6.1.1.1</a> 节），否则必须像本节的例子那样使用 <code>kable()</code> 的 <code>format</code> 参数，例如：</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="rmarkdown-operation.html#cb200-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">format =</span> <span class="st">&#39;latex&#39;</span>, <span class="at">booktabs =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>当给一个表格分配一个标题时（见本书 <a href="rmarkdown-operation.html#kable-caption">6.1.1.4</a> 节）， <code>kable()</code> 将使用 <code>table</code> 环境来纳入这个表，即：</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb201-1"><a href="rmarkdown-operation.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">table</span>}</span>
<span id="cb201-2"><a href="rmarkdown-operation.html#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="co">% 表格 (通常为 tabular 环境)</span></span>
<span id="cb201-3"><a href="rmarkdown-operation.html#cb201-3" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">table</span>}</span></code></pre></div>
<p>不同的环境具有不同的性质，例如熟悉 LaTeX 的读者可能了解浮动体，即某些环境下图表的位置会在页面的底部或顶部“浮动”，如 <code>table</code> 及 <code>figure</code> 等环境。可以通过 <code>table.envir</code> 参数来对环境进行调整：</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="rmarkdown-operation.html#cb202-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">format =</span> <span class="st">&#39;latex&#39;</span>, <span class="at">table.envir =</span> <span class="st">&#39;Table&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb203"><pre class="sourceCode tex"><code class="sourceCode latex"><span id="cb203-1"><a href="rmarkdown-operation.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">Table</span>}</span>
<span id="cb203-2"><a href="rmarkdown-operation.html#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">tabular</span>}{l|r|r|r}</span>
<span id="cb203-3"><a href="rmarkdown-operation.html#cb203-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb203-4"><a href="rmarkdown-operation.html#cb203-4" aria-hidden="true" tabindex="-1"></a>姓名 <span class="op">&amp;</span> 语文 <span class="op">&amp;</span> 数学 <span class="op">&amp;</span> 英语<span class="fu">\\</span></span>
<span id="cb203-5"><a href="rmarkdown-operation.html#cb203-5" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb203-6"><a href="rmarkdown-operation.html#cb203-6" aria-hidden="true" tabindex="-1"></a>张三 <span class="op">&amp;</span> 89 <span class="op">&amp;</span> 93 <span class="op">&amp;</span> 92<span class="fu">\\</span></span>
<span id="cb203-7"><a href="rmarkdown-operation.html#cb203-7" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb203-8"><a href="rmarkdown-operation.html#cb203-8" aria-hidden="true" tabindex="-1"></a>李四 <span class="op">&amp;</span> 90 <span class="op">&amp;</span> 97 <span class="op">&amp;</span> 85<span class="fu">\\</span></span>
<span id="cb203-9"><a href="rmarkdown-operation.html#cb203-9" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb203-10"><a href="rmarkdown-operation.html#cb203-10" aria-hidden="true" tabindex="-1"></a>王五 <span class="op">&amp;</span> 85 <span class="op">&amp;</span> 91 <span class="op">&amp;</span> 97<span class="fu">\\</span></span>
<span id="cb203-11"><a href="rmarkdown-operation.html#cb203-11" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb203-12"><a href="rmarkdown-operation.html#cb203-12" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">tabular</span>}</span>
<span id="cb203-13"><a href="rmarkdown-operation.html#cb203-13" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">Table</span>}</span></code></pre></div>
<p>表格的位置由参数 <code>position</code> 来控制。例如，可以通过 <code>position = "!b"</code> 来强制将表格固定到页面的底部：</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="rmarkdown-operation.html#cb204-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">format =</span> <span class="st">&#39;latex&#39;</span>,</span>
<span id="cb204-2"><a href="rmarkdown-operation.html#cb204-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">table.envir =</span> <span class="st">&#39;table&#39;</span>, <span class="at">position =</span> <span class="st">&#39;!b&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb205"><pre class="sourceCode tex"><code class="sourceCode latex"><span id="cb205-1"><a href="rmarkdown-operation.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">table</span>}[!b]</span>
<span id="cb205-2"><a href="rmarkdown-operation.html#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">tabular</span>}{l|r|r|r}</span>
<span id="cb205-3"><a href="rmarkdown-operation.html#cb205-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb205-4"><a href="rmarkdown-operation.html#cb205-4" aria-hidden="true" tabindex="-1"></a>姓名 <span class="op">&amp;</span> 语文 <span class="op">&amp;</span> 数学 <span class="op">&amp;</span> 英语<span class="fu">\\</span></span>
<span id="cb205-5"><a href="rmarkdown-operation.html#cb205-5" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb205-6"><a href="rmarkdown-operation.html#cb205-6" aria-hidden="true" tabindex="-1"></a>张三 <span class="op">&amp;</span> 89 <span class="op">&amp;</span> 93 <span class="op">&amp;</span> 92<span class="fu">\\</span></span>
<span id="cb205-7"><a href="rmarkdown-operation.html#cb205-7" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb205-8"><a href="rmarkdown-operation.html#cb205-8" aria-hidden="true" tabindex="-1"></a>李四 <span class="op">&amp;</span> 90 <span class="op">&amp;</span> 97 <span class="op">&amp;</span> 85<span class="fu">\\</span></span>
<span id="cb205-9"><a href="rmarkdown-operation.html#cb205-9" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb205-10"><a href="rmarkdown-operation.html#cb205-10" aria-hidden="true" tabindex="-1"></a>王五 <span class="op">&amp;</span> 85 <span class="op">&amp;</span> 91 <span class="op">&amp;</span> 97<span class="fu">\\</span></span>
<span id="cb205-11"><a href="rmarkdown-operation.html#cb205-11" aria-hidden="true" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb205-12"><a href="rmarkdown-operation.html#cb205-12" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">tabular</span>}</span>
<span id="cb205-13"><a href="rmarkdown-operation.html#cb205-13" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">table</span>}</span></code></pre></div>
<p>当表格有标题时，也可以通过 <code>caption.short</code> 参数给它分配一个短的标题，例如：</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="rmarkdown-operation.html#cb206-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">caption =</span> <span class="st">&#39;一个很长很长的标题！&#39;</span>,</span>
<span id="cb206-2"><a href="rmarkdown-operation.html#cb206-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption.short =</span> <span class="st">&#39;短标题&#39;</span>)</span></code></pre></div>
<p>短标题将会进入 LaTeX 中 <code>\caption[]{}</code> 命令的方括号中，经常在 PDF 输出文档的表格目录中使用（如果不提供短标题，那里则会显示完整的标题）。</p>
<p>如果熟悉用于生成可供发布（即高质量）表格的 LaTeX 包 <a href="https://ctan.org/pkg/booktabs"><strong>booktabs</strong></a>{LaTeX package!booktabs}，则可以设置<code>booktabs = TRUE</code>。</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="rmarkdown-operation.html#cb207-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">format =</span> <span class="st">&#39;latex&#39;</span>, <span class="at">booktabs =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb208"><pre class="sourceCode tex"><code class="sourceCode latex"><span id="cb208-1"><a href="rmarkdown-operation.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">tabular</span>}{lrrr}</span>
<span id="cb208-2"><a href="rmarkdown-operation.html#cb208-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\toprule</span></span>
<span id="cb208-3"><a href="rmarkdown-operation.html#cb208-3" aria-hidden="true" tabindex="-1"></a>姓名 <span class="op">&amp;</span> 语文 <span class="op">&amp;</span> 数学 <span class="op">&amp;</span> 英语<span class="fu">\\</span></span>
<span id="cb208-4"><a href="rmarkdown-operation.html#cb208-4" aria-hidden="true" tabindex="-1"></a><span class="fu">\midrule</span></span>
<span id="cb208-5"><a href="rmarkdown-operation.html#cb208-5" aria-hidden="true" tabindex="-1"></a>张三 <span class="op">&amp;</span> 89 <span class="op">&amp;</span> 93 <span class="op">&amp;</span> 92<span class="fu">\\</span></span>
<span id="cb208-6"><a href="rmarkdown-operation.html#cb208-6" aria-hidden="true" tabindex="-1"></a>李四 <span class="op">&amp;</span> 90 <span class="op">&amp;</span> 97 <span class="op">&amp;</span> 85<span class="fu">\\</span></span>
<span id="cb208-7"><a href="rmarkdown-operation.html#cb208-7" aria-hidden="true" tabindex="-1"></a>王五 <span class="op">&amp;</span> 85 <span class="op">&amp;</span> 91 <span class="op">&amp;</span> 97<span class="fu">\\</span></span>
<span id="cb208-8"><a href="rmarkdown-operation.html#cb208-8" aria-hidden="true" tabindex="-1"></a><span class="fu">\bottomrule</span></span>
<span id="cb208-9"><a href="rmarkdown-operation.html#cb208-9" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">tabular</span>}</span></code></pre></div>
<p>需要注意的是，当在 R Markdown 文档中需要额外的 LaTeX 包时（如 <strong>booktabs</strong>），必须在 YAML 中声明这些包（请参阅第 <a href="rmarkdown-document.html#pdf-latex">3.2.4</a> 节了解如何声明）。<strong>【！！！现有目录需要补充】</strong></p>
<p>参数 <code>booktabs</code> 取 <code>FALSE</code> （默认值）或 <code>TRUE</code> 时，表的外观是不同的，见表 <a href="#tab:booktabs-false"><strong>??</strong></a> 和表 <a href="#tab:booktabs-true"><strong>??</strong></a> 。</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="rmarkdown-operation.html#cb209-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">format =</span> <span class="st">&#39;latex&#39;</span>, </span>
<span id="cb209-2"><a href="rmarkdown-operation.html#cb209-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">booktabs =</span> <span class="cn">FALSE</span>, </span>
<span id="cb209-3"><a href="rmarkdown-operation.html#cb209-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="st">&#39;booktabs = FALSE 时的表格&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="rmarkdown-operation.html#cb210-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">format =</span> <span class="st">&#39;latex&#39;</span>, </span>
<span id="cb210-2"><a href="rmarkdown-operation.html#cb210-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">booktabs =</span> <span class="cn">TRUE</span>, </span>
<span id="cb210-3"><a href="rmarkdown-operation.html#cb210-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="st">&#39;booktabs = TRUE 时的表格&#39;</span>)</span></code></pre></div>
<p>对于 <code>booktabs = FALSE</code>：</p>
<ul>
<li><p>表的列由垂直线分隔。可以通过 <code>vline</code> 参数来删除垂直线，例如 <code>knitr::kable(grade, vline = "")</code> （默认值是<code>vline = "|"</code>）。也可以将这个选项设置为一个全局的R选项，这样就不需要为每个表设置它，例如 <code>options(knitr.table.vline = "")</code>。</p></li>
<li><p>水平线可以通过参数 <code>toprule</code>、<code>midrule</code>、<code>linesep</code> 以及 <code>bottomrule</code> 来定义，它们的默认值都是<code>\hline</code>。</p></li>
</ul>
<p>对于 <code>booktabs = TRUE</code>：</p>
<ul>
<li><p>表格中没有垂直线，但可以通过 <code>vline</code> 参数来添加。</p></li>
<li><p>表格只有标题和底部行有水平线。默认参数值是 <code>toprule = "\\toprule"</code>、<code>midrule = "\\midrule"</code> 以及 <code>bottomrule = "\\bottomrule"</code>。默认情况下，每 5 行加一个行间距（<code>\addlinespace</code>），这是由参数 <code>linesep</code> 控制的，默认值为 <code>c("", "", "", "", "\\addlinespace")</code>。如果想每 1 行加一个 <code>\addlinespace</code>，则可以这样做：</p></li>
</ul>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="rmarkdown-operation.html#cb211-1" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">format =</span> <span class="st">&#39;latex&#39;</span>, </span>
<span id="cb211-2"><a href="rmarkdown-operation.html#cb211-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">linesep =</span> <span class="fu">c</span>(<span class="st">&#39;</span><span class="sc">\\</span><span class="st">addlinespace&#39;</span>), </span>
<span id="cb211-3"><a href="rmarkdown-operation.html#cb211-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">booktabs =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb212"><pre class="sourceCode tex"><code class="sourceCode latex"><span id="cb212-1"><a href="rmarkdown-operation.html#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">tabular</span>}{lrrr}</span>
<span id="cb212-2"><a href="rmarkdown-operation.html#cb212-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\toprule</span></span>
<span id="cb212-3"><a href="rmarkdown-operation.html#cb212-3" aria-hidden="true" tabindex="-1"></a>姓名 <span class="op">&amp;</span> 语文 <span class="op">&amp;</span> 数学 <span class="op">&amp;</span> 英语<span class="fu">\\</span></span>
<span id="cb212-4"><a href="rmarkdown-operation.html#cb212-4" aria-hidden="true" tabindex="-1"></a><span class="fu">\midrule</span></span>
<span id="cb212-5"><a href="rmarkdown-operation.html#cb212-5" aria-hidden="true" tabindex="-1"></a>张三 <span class="op">&amp;</span> 89 <span class="op">&amp;</span> 93 <span class="op">&amp;</span> 92<span class="fu">\\</span></span>
<span id="cb212-6"><a href="rmarkdown-operation.html#cb212-6" aria-hidden="true" tabindex="-1"></a><span class="fu">\addlinespace</span></span>
<span id="cb212-7"><a href="rmarkdown-operation.html#cb212-7" aria-hidden="true" tabindex="-1"></a>李四 <span class="op">&amp;</span> 90 <span class="op">&amp;</span> 97 <span class="op">&amp;</span> 85<span class="fu">\\</span></span>
<span id="cb212-8"><a href="rmarkdown-operation.html#cb212-8" aria-hidden="true" tabindex="-1"></a><span class="fu">\addlinespace</span></span>
<span id="cb212-9"><a href="rmarkdown-operation.html#cb212-9" aria-hidden="true" tabindex="-1"></a>王五 <span class="op">&amp;</span> 85 <span class="op">&amp;</span> 91 <span class="op">&amp;</span> 97<span class="fu">\\</span></span>
<span id="cb212-10"><a href="rmarkdown-operation.html#cb212-10" aria-hidden="true" tabindex="-1"></a><span class="fu">\bottomrule</span></span>
<span id="cb212-11"><a href="rmarkdown-operation.html#cb212-11" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">tabular</span>}</span></code></pre></div>
<p>如果想删除所有的行间距，可以使用<code>linesep = ''</code>。</p>
<p>有的时候，表可能比一页还长。可以使用参数 <code>longtable = TRUE</code>，该参数使用 LaTeX 包 <a href="https://ctan.org/pkg/longtable"><strong>longtable</strong></a> 将表跨到多个页面。</p>
<p>另外，当表格被包含在 <code>table</code> 环境中时（例如，当表有标题时），表格默认居中对齐。如果不想让表格居中，可以使用参数 <code>centering = FALSE</code>。</p>
</div>
<div id="自定义-html-表格" class="section level4" number="6.1.1.11">
<h4><span class="header-section-number">6.1.1.11</span> 自定义 HTML 表格 (*)</h4>
<!-- https://stackoverflow.com/questions/24254552/knitr-style-table-with-css -->
<p>如果想自定义通过 <code>knitr::kable(format = "html")</code> 生成的表，除了前面提到的常见参数外，只有一个额外的参数需要注意：<code>table.attr</code>。这个参数允许使用者向 <code>&lt;table&gt;</code> 标签添加任意属性。例如可以向表格中添加一个类<code>striped</code>：</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="rmarkdown-operation.html#cb213-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(grade, <span class="at">table.attr =</span> <span class="st">&#39;class=&quot;striped&quot;&#39;</span>,</span>
<span id="cb213-2"><a href="rmarkdown-operation.html#cb213-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">format =</span> <span class="st">&quot;html&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb214"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb214-1"><a href="rmarkdown-operation.html#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;table</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;striped&quot;</span><span class="kw">&gt;</span></span>
<span id="cb214-2"><a href="rmarkdown-operation.html#cb214-2" aria-hidden="true" tabindex="-1"></a> <span class="kw">&lt;thead&gt;</span></span>
<span id="cb214-3"><a href="rmarkdown-operation.html#cb214-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;tr&gt;</span></span>
<span id="cb214-4"><a href="rmarkdown-operation.html#cb214-4" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;th</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="kw">&gt;</span> 姓名 <span class="kw">&lt;/th&gt;</span></span>
<span id="cb214-5"><a href="rmarkdown-operation.html#cb214-5" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;th</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 语文 <span class="kw">&lt;/th&gt;</span></span>
<span id="cb214-6"><a href="rmarkdown-operation.html#cb214-6" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;th</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 数学 <span class="kw">&lt;/th&gt;</span></span>
<span id="cb214-7"><a href="rmarkdown-operation.html#cb214-7" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;th</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 英语 <span class="kw">&lt;/th&gt;</span></span>
<span id="cb214-8"><a href="rmarkdown-operation.html#cb214-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb214-9"><a href="rmarkdown-operation.html#cb214-9" aria-hidden="true" tabindex="-1"></a> <span class="kw">&lt;/thead&gt;</span></span>
<span id="cb214-10"><a href="rmarkdown-operation.html#cb214-10" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;tbody&gt;</span></span>
<span id="cb214-11"><a href="rmarkdown-operation.html#cb214-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;tr&gt;</span></span>
<span id="cb214-12"><a href="rmarkdown-operation.html#cb214-12" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="kw">&gt;</span> 张三 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-13"><a href="rmarkdown-operation.html#cb214-13" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 89 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-14"><a href="rmarkdown-operation.html#cb214-14" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 93 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-15"><a href="rmarkdown-operation.html#cb214-15" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 92 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-16"><a href="rmarkdown-operation.html#cb214-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb214-17"><a href="rmarkdown-operation.html#cb214-17" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;tr&gt;</span></span>
<span id="cb214-18"><a href="rmarkdown-operation.html#cb214-18" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="kw">&gt;</span> 李四 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-19"><a href="rmarkdown-operation.html#cb214-19" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 90 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-20"><a href="rmarkdown-operation.html#cb214-20" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 97 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-21"><a href="rmarkdown-operation.html#cb214-21" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 85 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-22"><a href="rmarkdown-operation.html#cb214-22" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb214-23"><a href="rmarkdown-operation.html#cb214-23" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;tr&gt;</span></span>
<span id="cb214-24"><a href="rmarkdown-operation.html#cb214-24" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="kw">&gt;</span> 王五 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-25"><a href="rmarkdown-operation.html#cb214-25" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 85 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-26"><a href="rmarkdown-operation.html#cb214-26" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 91 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-27"><a href="rmarkdown-operation.html#cb214-27" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;td</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;text-align:right;&quot;</span><span class="kw">&gt;</span> 97 <span class="kw">&lt;/td&gt;</span></span>
<span id="cb214-28"><a href="rmarkdown-operation.html#cb214-28" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/tr&gt;</span></span>
<span id="cb214-29"><a href="rmarkdown-operation.html#cb214-29" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/tbody&gt;</span></span>
<span id="cb214-30"><a href="rmarkdown-operation.html#cb214-30" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/table&gt;</span></span></code></pre></div>
<p>然而，类的名称不足以改变表的外观，必须定义 CSS<a href="references.html#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a> 类的规则。例如，要制作奇数行和偶数行有不同颜色的条纹表，可以为偶数行或奇数行添加浅灰色背景：</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb215-1"><a href="rmarkdown-operation.html#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">.striped</span> tr<span class="in">:nth-child(even)</span> { <span class="kw">background</span>: <span class="cn">#eee</span><span class="op">;</span> }</span></code></pre></div>
<p>上面的 CSS 规则意味着所有 <code>striped</code> 类的元素的子元素，且具有偶数行号（<code>:nth-child(even)</code>）的行（即 <code>&lt;tr&gt;</code> 标签），将它们的背景颜色设置为 <code>#eee</code>。</p>
<p>使用一点 CSS 可以使一个普通的 HTML 表看起来好看很多。图 <a href="rmarkdown-operation.html#fig:striped-table">6.1</a> 是一个 HTML 表格的截图，其中应用了以下 CSS 规则：</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb216-1"><a href="rmarkdown-operation.html#cb216-1" aria-hidden="true" tabindex="-1"></a>table {</span>
<span id="cb216-2"><a href="rmarkdown-operation.html#cb216-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">margin</span>: <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb216-3"><a href="rmarkdown-operation.html#cb216-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">border-top</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#666</span><span class="op">;</span></span>
<span id="cb216-4"><a href="rmarkdown-operation.html#cb216-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">border-bottom</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#666</span><span class="op">;</span></span>
<span id="cb216-5"><a href="rmarkdown-operation.html#cb216-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb216-6"><a href="rmarkdown-operation.html#cb216-6" aria-hidden="true" tabindex="-1"></a>table thead th { <span class="kw">border-bottom</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ddd</span><span class="op">;</span> }</span>
<span id="cb216-7"><a href="rmarkdown-operation.html#cb216-7" aria-hidden="true" tabindex="-1"></a>th<span class="op">,</span> td { <span class="kw">padding</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span> }</span>
<span id="cb216-8"><a href="rmarkdown-operation.html#cb216-8" aria-hidden="true" tabindex="-1"></a>thead<span class="op">,</span> tfoot<span class="op">,</span> tr<span class="in">:nth-child(even)</span> { <span class="kw">background</span>: <span class="cn">#eee</span><span class="op">;</span> }</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:striped-table"></span>
<img src="images/striped-table.png" alt="利用 HTML 和 CSS 创建的条纹表"  />
<p class="caption">
图 6.1: 利用 HTML 和 CSS 创建的条纹表
</p>
</div>
</div>
</div>
<div id="kable-extra" class="section level3" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> 利用 <strong>kableExtra</strong> 美化表格</h3>
<p><strong>kableExtra</strong> 包<span class="citation">(<a href="#ref-R-kableExtra" role="doc-biblioref">Zhu 2021</a>)</span> 设计的目的为扩展 <code>knitr::kable()</code> 生成表格的基本功能（见第<a href="rmarkdown-operation.html#table-complex">6.1.1</a>节）。由于 <code>knitr::kable()</code> 的设计很简单，就像很多其他的 R 包一样，它肯定有很多缺失的功能，而 <strong>kableExtra</strong> 完美地填补了空白，可以配合 <code>knitr::kable()</code> 生成更好看的表格。最令人惊讶的是，<strong>kableExtra</strong> 的大多数表格的特性都适用于 HTML 和 PDF 格式，例如，借助 <strong>kableExtra</strong> 包可以绘制如图 <a href="rmarkdown-operation.html#fig:striped-table">6.1</a> 的条纹表。</p>
<p>一般情况下，<strong>kableExtra</strong> 包可以通过 CRAN 安装，也可以尝试 GitHub 上的开发版本 (<a href="https://github.com/haozhu233/kableExtra" class="uri">https://github.com/haozhu233/kableExtra</a>)：</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="rmarkdown-operation.html#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 通过 CRAN 安装</span></span>
<span id="cb217-2"><a href="rmarkdown-operation.html#cb217-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;kableExtra&quot;</span>)</span>
<span id="cb217-3"><a href="rmarkdown-operation.html#cb217-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 安装开发版本</span></span>
<span id="cb217-4"><a href="rmarkdown-operation.html#cb217-4" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;haozhu233/kableExtra&quot;</span>)</span></code></pre></div>
<p><a href="https://haozhu233.github.io/kableExtra/" class="uri">https://haozhu233.github.io/kableExtra/</a> 提供了大量的文档，介绍了很多关于如何自定义 <code>kable()</code> 的 HTML 或 LaTeX 输出结果的例子。本节只提供几个示例，更多内容可参见该文档。</p>
<p>另外，<strong>kableExtra</strong> 包支持使用管道操作符 <code>%&gt;%</code>，可以将 <code>kable()</code> 的输出结果连到 <strong>kableExtra</strong> 的样式函数上，例如表 <a href="rmarkdown-operation.html#tab:striped-table-extra">6.7</a>：</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="rmarkdown-operation.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb218-2"><a href="rmarkdown-operation.html#cb218-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb218-3"><a href="rmarkdown-operation.html#cb218-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(grade, <span class="at">caption =</span> <span class="st">&quot;条纹表&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb218-4"><a href="rmarkdown-operation.html#cb218-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="st">&quot;striped&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:striped-table-extra">表 6.7: </span>条纹表
</caption>
<thead>
<tr>
<th style="text-align:left;">
姓名
</th>
<th style="text-align:right;">
语文
</th>
<th style="text-align:right;">
数学
</th>
<th style="text-align:right;">
英语
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
张三
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
92
</td>
</tr>
<tr>
<td style="text-align:left;">
李四
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
85
</td>
</tr>
<tr>
<td style="text-align:left;">
王五
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
97
</td>
</tr>
</tbody>
</table>
<div id="设定字体尺寸" class="section level4" number="6.1.2.1">
<h4><span class="header-section-number">6.1.2.1</span> 设定字体尺寸</h4>
<p>有的时候，在展示一些表格时，需要设定字体的尺寸，如放大或缩小某些特定问题。<strong>kableExtra</strong> 包中的 <code>kable_styling()</code> 函数可以帮助使用者对整个表进行样式化。例如，可以指定页面上表格的对齐方式、表格的宽度和字体大小。表 <a href="rmarkdown-operation.html#tab:little-size">6.8</a> 展示了一个使用小字体的例子：</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="rmarkdown-operation.html#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(grade, <span class="at">booktabs =</span> <span class="cn">TRUE</span>, </span>
<span id="cb219-2"><a href="rmarkdown-operation.html#cb219-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">&quot;字体较小的表格&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb219-3"><a href="rmarkdown-operation.html#cb219-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">font_size =</span> <span class="dv">8</span>)</span></code></pre></div>
<table class="table" style="font-size: 8px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:little-size">表 6.8: </span>字体较小的表格
</caption>
<thead>
<tr>
<th style="text-align:left;">
姓名
</th>
<th style="text-align:right;">
语文
</th>
<th style="text-align:right;">
数学
</th>
<th style="text-align:right;">
英语
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
张三
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
92
</td>
</tr>
<tr>
<td style="text-align:left;">
李四
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
85
</td>
</tr>
<tr>
<td style="text-align:left;">
王五
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
97
</td>
</tr>
</tbody>
</table>
</div>
<div id="特定的行或列的样式" class="section level4" number="6.1.2.2">
<h4><span class="header-section-number">6.1.2.2</span> 特定的行或列的样式</h4>
<p>有时还需要对表格的行或列的具体样式进行调整，如加粗某行等。函数 <code>row_spec()</code> 和 <code>column_spec()</code> 可分别用于样式化单独的行和列。表 <a href="rmarkdown-operation.html#tab:style-col-row">6.9</a> 将第一行文字加粗并设为斜体，将第二行添加黑色背景，同时更改字体颜色为白色并旋转，给第三行文字加下划线并更改其字体，并给第四列加删除线：</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="rmarkdown-operation.html#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(grade, <span class="at">align =</span> <span class="st">&#39;c&#39;</span>, <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb220-2"><a href="rmarkdown-operation.html#cb220-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">&quot;更改特定行或列的样式&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb220-3"><a href="rmarkdown-operation.html#cb220-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">italic =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb220-4"><a href="rmarkdown-operation.html#cb220-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">2</span>, <span class="at">color =</span> <span class="st">&#39;white&#39;</span>, </span>
<span id="cb220-5"><a href="rmarkdown-operation.html#cb220-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">background =</span> <span class="st">&#39;black&#39;</span>, <span class="at">angle =</span> <span class="dv">45</span>) <span class="sc">%&gt;%</span></span>
<span id="cb220-6"><a href="rmarkdown-operation.html#cb220-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">3</span>, <span class="at">underline =</span> <span class="cn">TRUE</span>, <span class="at">monospace =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb220-7"><a href="rmarkdown-operation.html#cb220-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">4</span>, <span class="at">strikeout =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<table>
<caption>
<span id="tab:style-col-row">表 6.9: </span>更改特定行或列的样式
</caption>
<thead>
<tr>
<th style="text-align:center;">
姓名
</th>
<th style="text-align:center;">
语文
</th>
<th style="text-align:center;">
数学
</th>
<th style="text-align:center;">
英语
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;font-weight: bold;font-style: italic;">
张三
</td>
<td style="text-align:center;font-weight: bold;font-style: italic;">
89
</td>
<td style="text-align:center;font-weight: bold;font-style: italic;">
93
</td>
<td style="text-align:center;font-weight: bold;font-style: italic;text-decoration: line-through;">
92
</td>
</tr>
<tr>
<td style="text-align:center;color: white !important;background-color: black !important;-webkit-transform: rotate(45deg); -moz-transform: rotate(45deg); -ms-transform: rotate(45deg); -o-transform: rotate(45deg); transform: rotate(45deg);">
李四
</td>
<td style="text-align:center;color: white !important;background-color: black !important;-webkit-transform: rotate(45deg); -moz-transform: rotate(45deg); -ms-transform: rotate(45deg); -o-transform: rotate(45deg); transform: rotate(45deg);">
90
</td>
<td style="text-align:center;color: white !important;background-color: black !important;-webkit-transform: rotate(45deg); -moz-transform: rotate(45deg); -ms-transform: rotate(45deg); -o-transform: rotate(45deg); transform: rotate(45deg);">
97
</td>
<td style="text-align:center;color: white !important;background-color: black !important;-webkit-transform: rotate(45deg); -moz-transform: rotate(45deg); -ms-transform: rotate(45deg); -o-transform: rotate(45deg); transform: rotate(45deg);text-decoration: line-through;">
85
</td>
</tr>
<tr>
<td style="text-align:center;font-family: monospace;text-decoration: underline;">
王五
</td>
<td style="text-align:center;font-family: monospace;text-decoration: underline;">
85
</td>
<td style="text-align:center;font-family: monospace;text-decoration: underline;">
91
</td>
<td style="text-align:center;font-family: monospace;text-decoration: underline;text-decoration: line-through;">
97
</td>
</tr>
</tbody>
</table>
<p>类似地，也可以使用 <code>cell_spec()</code> 函数来给单个单元格设定样式。</p>
</div>
<div id="给行或列分组" class="section level4" number="6.1.2.3">
<h4><span class="header-section-number">6.1.2.3</span> 给行或列分组</h4>
<p>回想 Excel 里的操作，对单元格进行合并的操作可以给行或列进行分组。在 R Markdown 中，行和列可以分别通过函数 <code>pack_rows()</code> 和 <code>add_header_above()</code> 来进行分组。另外，也可以通过 <code>collapse_rows()</code> 来折叠行，这样一个单元格可以跨越多个行。表 <a href="rmarkdown-operation.html#tab:group-col-row">6.10</a> 展示了一个给标题列分组后的表格：</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="rmarkdown-operation.html#cb221-1" aria-hidden="true" tabindex="-1"></a>grade3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(姓名 <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;张三&quot;</span>,<span class="st">&quot;李四&quot;</span>,<span class="st">&quot;王五&quot;</span>),</span>
<span id="cb221-2"><a href="rmarkdown-operation.html#cb221-2" aria-hidden="true" tabindex="-1"></a>                     物理 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">90</span>,<span class="dv">90</span>,<span class="dv">85</span>),</span>
<span id="cb221-3"><a href="rmarkdown-operation.html#cb221-3" aria-hidden="true" tabindex="-1"></a>                     化学 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">86</span>,<span class="dv">92</span>,<span class="dv">80</span>),</span>
<span id="cb221-4"><a href="rmarkdown-operation.html#cb221-4" aria-hidden="true" tabindex="-1"></a>                     生物 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">94</span>,<span class="dv">85</span>,<span class="dv">90</span>),</span>
<span id="cb221-5"><a href="rmarkdown-operation.html#cb221-5" aria-hidden="true" tabindex="-1"></a>                     政治 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">93</span>,<span class="dv">97</span>,<span class="dv">95</span>),</span>
<span id="cb221-6"><a href="rmarkdown-operation.html#cb221-6" aria-hidden="true" tabindex="-1"></a>                     历史 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">92</span>,<span class="dv">84</span>,<span class="dv">80</span>),</span>
<span id="cb221-7"><a href="rmarkdown-operation.html#cb221-7" aria-hidden="true" tabindex="-1"></a>                     地理 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">99</span>,<span class="dv">89</span>,<span class="dv">95</span>),</span>
<span id="cb221-8"><a href="rmarkdown-operation.html#cb221-8" aria-hidden="true" tabindex="-1"></a>                     计算机 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">92</span>,<span class="dv">95</span>,<span class="dv">97</span>),</span>
<span id="cb221-9"><a href="rmarkdown-operation.html#cb221-9" aria-hidden="true" tabindex="-1"></a>                     体育 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">85</span>,<span class="dv">99</span>,<span class="dv">95</span>))</span>
<span id="cb221-10"><a href="rmarkdown-operation.html#cb221-10" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(grade3, <span class="at">booktabs =</span> <span class="cn">TRUE</span>, </span>
<span id="cb221-11"><a href="rmarkdown-operation.html#cb221-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">&quot;对标题列进行分组&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb221-12"><a href="rmarkdown-operation.html#cb221-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">&quot; &quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;理科&quot;</span> <span class="ot">=</span> <span class="dv">3</span>, </span>
<span id="cb221-13"><a href="rmarkdown-operation.html#cb221-13" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;文科&quot;</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">&quot;其它&quot;</span> <span class="ot">=</span> <span class="dv">2</span>))</span></code></pre></div>
<table>
<caption>
<span id="tab:group-col-row">表 6.10: </span>对标题列进行分组
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
理科
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
文科
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
其它
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
姓名
</th>
<th style="text-align:right;">
物理
</th>
<th style="text-align:right;">
化学
</th>
<th style="text-align:right;">
生物
</th>
<th style="text-align:right;">
政治
</th>
<th style="text-align:right;">
历史
</th>
<th style="text-align:right;">
地理
</th>
<th style="text-align:right;">
计算机
</th>
<th style="text-align:right;">
体育
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
张三
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
94
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
99
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
85
</td>
</tr>
<tr>
<td style="text-align:left;">
李四
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
99
</td>
</tr>
<tr>
<td style="text-align:left;">
王五
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
95
</td>
</tr>
</tbody>
</table>
<p>对于 <code>add_header_above()</code> 中的命名向量，其名称是显示在表头中的文本，向量的整数值表示一个名称应该跨越多少列，例如，<code>"理科" = 3</code> 表示 <code>理科</code> 应该跨越三列。</p>
<p>表 <a href="rmarkdown-operation.html#tab:pack-rows">6.11</a> 提供了 <code>pack_rows()</code> 的示例，其中 <code>index</code> 参数的含义类似于之前解释过的 <code>add_header_above()</code> 参数：</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="rmarkdown-operation.html#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(grade3, <span class="at">booktabs =</span> <span class="cn">TRUE</span>, </span>
<span id="cb222-2"><a href="rmarkdown-operation.html#cb222-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">&quot;对行进行折叠&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb222-3"><a href="rmarkdown-operation.html#cb222-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack_rows</span>(</span>
<span id="cb222-4"><a href="rmarkdown-operation.html#cb222-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">index =</span> <span class="fu">c</span>(<span class="st">&quot;一班&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;二班&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb222-5"><a href="rmarkdown-operation.html#cb222-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<table>
<caption>
<span id="tab:pack-rows">表 6.11: </span>对行进行折叠
</caption>
<thead>
<tr>
<th style="text-align:left;">
姓名
</th>
<th style="text-align:right;">
物理
</th>
<th style="text-align:right;">
化学
</th>
<th style="text-align:right;">
生物
</th>
<th style="text-align:right;">
政治
</th>
<th style="text-align:right;">
历史
</th>
<th style="text-align:right;">
地理
</th>
<th style="text-align:right;">
计算机
</th>
<th style="text-align:right;">
体育
</th>
</tr>
</thead>
<tbody>
<tr grouplength="1">
<td colspan="9" style="border-bottom: 1px solid;">
<strong>一班</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
张三
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
94
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
99
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
85
</td>
</tr>
<tr grouplength="2">
<td colspan="9" style="border-bottom: 1px solid;">
<strong>二班</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
李四
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
99
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
王五
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
95
</td>
</tr>
</tbody>
</table>
</div>
<div id="按比例缩小latex中的表格" class="section level4" number="6.1.2.4">
<h4><span class="header-section-number">6.1.2.4</span> 按比例缩小LaTex中的表格</h4>
<p>有一些特性是 HTML 或 LaTeX 输出格式特有的。例如，横向打印格式只在 LaTeX 中有意义，所以 <strong>kableExtra</strong> 中的 <code>landscape()</code> 函数只对 LaTeX 格式的输出有效。对于一个比较宽的表格（表 <a href="rmarkdown-operation.html#tab:no-scale-down">6.12</a>），（表 <a href="rmarkdown-operation.html#tab:scale-down">6.13</a>）展现了如何将表格按比例缩小以适应页面的宽度（否则该表格会太宽）：</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="rmarkdown-operation.html#cb223-1" aria-hidden="true" tabindex="-1"></a>grade4 <span class="ot">&lt;-</span> <span class="fu">merge</span>(grade, grade3, <span class="at">by =</span> <span class="st">&quot;姓名&quot;</span>)</span>
<span id="cb223-2"><a href="rmarkdown-operation.html#cb223-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(grade4, </span>
<span id="cb223-3"><a href="rmarkdown-operation.html#cb223-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb223-4"><a href="rmarkdown-operation.html#cb223-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">&quot;原始表格（太宽）&quot;</span>)</span></code></pre></div>
<table>
<caption>
<span id="tab:no-scale-down">表 6.12: </span>原始表格（太宽）
</caption>
<thead>
<tr>
<th style="text-align:left;">
姓名
</th>
<th style="text-align:right;">
语文
</th>
<th style="text-align:right;">
数学
</th>
<th style="text-align:right;">
英语
</th>
<th style="text-align:right;">
物理
</th>
<th style="text-align:right;">
化学
</th>
<th style="text-align:right;">
生物
</th>
<th style="text-align:right;">
政治
</th>
<th style="text-align:right;">
历史
</th>
<th style="text-align:right;">
地理
</th>
<th style="text-align:right;">
计算机
</th>
<th style="text-align:right;">
体育
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
张三
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
94
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
99
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
85
</td>
</tr>
<tr>
<td style="text-align:left;">
李四
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
99
</td>
</tr>
<tr>
<td style="text-align:left;">
王五
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
95
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="rmarkdown-operation.html#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(grade4, </span>
<span id="cb224-2"><a href="rmarkdown-operation.html#cb224-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb224-3"><a href="rmarkdown-operation.html#cb224-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">&quot;缩小后的表格&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb224-4"><a href="rmarkdown-operation.html#cb224-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="st">&quot;scale_down&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:scale-down">表 6.13: </span>缩小后的表格
</caption>
<thead>
<tr>
<th style="text-align:left;">
姓名
</th>
<th style="text-align:right;">
语文
</th>
<th style="text-align:right;">
数学
</th>
<th style="text-align:right;">
英语
</th>
<th style="text-align:right;">
物理
</th>
<th style="text-align:right;">
化学
</th>
<th style="text-align:right;">
生物
</th>
<th style="text-align:right;">
政治
</th>
<th style="text-align:right;">
历史
</th>
<th style="text-align:right;">
地理
</th>
<th style="text-align:right;">
计算机
</th>
<th style="text-align:right;">
体育
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
张三
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
94
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
99
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
85
</td>
</tr>
<tr>
<td style="text-align:left;">
李四
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
99
</td>
</tr>
<tr>
<td style="text-align:left;">
王五
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
95
</td>
</tr>
</tbody>
</table>
<p>注意如果在浏览 HTML 版本的话，表 <a href="rmarkdown-operation.html#tab:no-scale-down">6.12</a> 和表 <a href="rmarkdown-operation.html#tab:scale-down">6.13</a> 表格是没有差异的。</p>
</div>
</div>
<div id="else-table" class="section level3" number="6.1.3">
<h3><span class="header-section-number">6.1.3</span> 其它生成表格的包及功能介绍</h3>
<p>还有很多其他的R包可以用来生成表格。本章引入 <code>kable()</code> （见第<a href="rmarkdown-operation.html#table-complex">6.1.1</a>节）和 <strong>kableExtra</strong> （见第<a href="rmarkdown-operation.html#kable-extra">6.1.2</a>节）的主要原因不是它们比其他包更好，而是因为作者们只熟悉它们，而且它们的功能可以涵盖大部分的日常使用需求。接下来本节将列出一些已知的其它软件包，感兴趣的读者可以去尝试并决定哪一个最适合自己。</p>
<ul>
<li><p><strong>flextable</strong> <span class="citation">(<a href="#ref-R-flextable" role="doc-biblioref"><strong>R-flextable?</strong></a>)</span> 和 <strong>huxtable</strong> <span class="citation">(<a href="#ref-R-huxtable" role="doc-biblioref">Hugh-Jones 2021</a>)</span>：<strong>flextable</strong> 和 <strong>huxtable</strong> 支持多种表格输出格式的包。它们都支持 HTML、LaTeX 以及 Office 格式，并且包含最常见的表格特性（例如条件格式化）。更多关于 <strong>flextable</strong> 的信息可参见：<a href="https://davidgohel.github.io/flextable/" class="uri">https://davidgohel.github.io/flextable/</a>，<strong>huxtable</strong> 的说明文档则在：<a href="https://hughjonesd.github.io/huxtable/" class="uri">https://hughjonesd.github.io/huxtable/</a>。</p></li>
<li><p><strong>gt</strong> <span class="citation">(<a href="#ref-R-gt" role="doc-biblioref"><strong>R-gt?</strong></a>)</span>：这个R包允许使用者将表格的不同部分组合在一起，例如表头（标题和副标题）、列标签、表格主体、行组标签以及表格的脚注，从而组成一个完整的表格，其中有些部分是可选择性添加的。还可以格式化数字，并为单元格添加背景阴影。目前 <strong>gt</strong> 主要支持 HTML 输出。<a href="references.html#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a>更多关于 <strong>gt</strong> 的信息可参见：<a href="https://gt.rstudio.com" class="uri">https://gt.rstudio.com</a>。</p></li>
<li><p><strong>formattable</strong> <span class="citation">(<a href="#ref-R-formattable" role="doc-biblioref"><strong>R-formattable?</strong></a>)</span>：这个 R 包提供了一些格式化数字的工具函数（如 <code>percent()</code> 和 <code>accounting()</code>），以及对列进行样式化的函数（如格式化文本，用背景阴影或颜色条注释数字，或在单元格中添加图标等等）。和 <strong>gt</strong> 相同，<strong>formattable</strong> 包也主要支持HTML格式。更多信息可参见GitHub项目：<a href="https://github.com/renkun-ken/formattable/" class="uri">https://github.com/renkun-ken/formattable/</a>。</p></li>
<li><p><strong>DT</strong> <span class="citation">(<a href="#ref-R-DT" role="doc-biblioref"><strong>R-DT?</strong></a>)</span>：它只支持 HTML 格式。<strong>DT</strong> 构建在 JavaScript 库 <strong>DataTables</strong> 之上，它可以将静态表转换为HTML页面上的交互式表。你可以对表进行排序、搜索和分页。<strong>DT</strong> 还支持格式化单元格，与 Shiny 一起构建交互式应用程序，并包含了大量的 <strong>DataTables</strong> 扩展（例如，可以将表格导出到Excel，或交互式重新排列表格的列）。更多信息可参见：<a href="https://github.com/rstudio/DT/" class="uri">https://github.com/rstudio/DT/</a>。</p></li>
<li><p><strong>reactable</strong> <span class="citation">(<a href="#ref-R-reactable" role="doc-biblioref"><strong>R-reactable?</strong></a>)</span>：与 <strong>DT</strong> 类似，这个包也基于 JavaScript 库创建交互式表。它在某些方面比 <strong>DT</strong> 更好（比如行分组和聚合操作，以及嵌入HTML小部件），但 <strong>reactable</strong> 并不包含 <strong>DT</strong> 全部的特性。更多信息可参见：<a href="https://glin.github.io/reactable/" class="uri">https://glin.github.io/reactable/</a>。</p></li>
<li><p><strong>rhandsontable</strong><span class="citation">(<a href="#ref-R-rhandsontable" role="doc-biblioref"><strong>R-rhandsontable?</strong></a>)</span>：这个包也类似于 <strong>DT</strong>，并且和 Excel 比较像（例如，可以直接在表中编辑数据）。更多信息可参见：<a href="https://jrowen.github.io/rhandsontable/" class="uri">https://jrowen.github.io/rhandsontable/</a>。</p></li>
<li><p><strong>pixiedust</strong> <span class="citation">(<a href="#ref-R-pixiedust" role="doc-biblioref"><strong>R-pixiedust?</strong></a>)</span>：这个包通过 <strong>broom</strong> 包<span class="citation">(<a href="#ref-R-broom" role="doc-biblioref"><strong>R-broom?</strong></a>)</span>来为为模型结果（如线性模型）创建表格，它支持 Markdown、HTML 以及 LaTeX 输出格式。更多信息可参见：<a href="https://github.com/nutterb/pixiedust/" class="uri">https://github.com/nutterb/pixiedust/</a>。</p></li>
<li><p><strong>stargazer</strong> <span class="citation">(<a href="#ref-R-stargazer" role="doc-biblioref"><strong>R-stargazer?</strong></a>)</span>：格式化回归模型和汇总统计表。更多信息可参见：<a href="https://cran.r-project.org/package=stargazer/" class="uri">https://cran.r-project.org/package=stargazer/</a>。</p></li>
<li><p><strong>xtable</strong> <span class="citation">(<a href="#ref-R-xtable" role="doc-biblioref">Dahl et al. 2019</a>)</span>；这个包可能是最早的创建表格的包，其第一次发布是在 2000 年。它同时支持LaTeX和HTML格式。该软件包可在 CRAN 上访问：<a href="https://cran.r-project.org/package=xtable/" class="uri">https://cran.r-project.org/package=xtable/</a>。</p></li>
</ul>
<p>还有一些其它生成表格的包，这里不再进一步介绍，只是在这里列出它们，以供感兴趣者参考：<strong>tables</strong> <span class="citation">(<a href="#ref-R-tables" role="doc-biblioref"><strong>R-tables?</strong></a>)</span>、<strong>pander</strong> <span class="citation">(<a href="#ref-R-pander" role="doc-biblioref"><strong>R-pander?</strong></a>)</span>、<strong>tangram</strong> <span class="citation">(<a href="#ref-R-tangram" role="doc-biblioref"><strong>R-tangram?</strong></a>)</span>、<strong>ztable</strong> <span class="citation">(<a href="#ref-R-ztable" role="doc-biblioref"><strong>R-ztable?</strong></a>)</span> 以及 <strong>condformat</strong> <span class="citation">(<a href="#ref-R-condformat" role="doc-biblioref"><strong>R-condformat?</strong></a>)</span>。</p>
</div>
</div>
<div id="chunk-options" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> 块选项</h2>
<div id="chunk-variable" class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> 在块选项中使用变量</h3>
</div>
<div id="chunk-error" class="section level3" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> 如何在遇到 error 的时候继续编译</h3>
</div>
<div id="chunk-cache" class="section level3" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> 缓存代码块</h3>
</div>
<div id="chunk-asis" class="section level3" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> 通过 asis 引擎有条件地执行内容</h3>
</div>
<div id="chunk-shell" class="section level3" number="6.2.5">
<h3><span class="header-section-number">6.2.5</span> 执行 Shell 脚本</h3>
</div>
<div id="chunk-output" class="section level3" number="6.2.6">
<h3><span class="header-section-number">6.2.6</span> 控制输出</h3>
</div>
<div id="chunk-reformat" class="section level3" number="6.2.7">
<h3><span class="header-section-number">6.2.7</span> 重新格式化源代码</h3>
</div>
<div id="chunk-leading" class="section level3" number="6.2.8">
<h3><span class="header-section-number">6.2.8</span> 删除文本输出中的前导符号</h3>
</div>
<div id="为文本输出块添加属性-chunk-property" class="section level3" number="6.2.9">
<h3><span class="header-section-number">6.2.9</span> 为文本输出块添加属性 (*) {#chunk-property}</h3>
</div>
<div id="chunk-multiplot" class="section level3" number="6.2.10">
<h3><span class="header-section-number">6.2.10</span> 同一张图的多种图像输出格式</h3>
</div>
<div id="图像的后期加工-chunk-process" class="section level3" number="6.2.11">
<h3><span class="header-section-number">6.2.11</span> 图像的后期加工 (*) {#chunk-process}</h3>
</div>
<div id="输出高质量的图像-chunk-highquality" class="section level3" number="6.2.12">
<h3><span class="header-section-number">6.2.12</span> 输出高质量的图像 (*) {#chunk-highquality}</h3>
</div>
<div id="带有低级绘图功能的逐步绘图-chunk-step-plot" class="section level3" number="6.2.13">
<h3><span class="header-section-number">6.2.13</span> 带有低级绘图功能的逐步绘图 (*) {#chunk-step-plot}</h3>
</div>
<div id="在代码块中自定义对象的打印格式-chunk-print" class="section level3" number="6.2.14">
<h3><span class="header-section-number">6.2.14</span> 在代码块中自定义对象的打印格式 (*) {#chunk-print}</h3>
</div>
<div id="选项钩子-option-hook" class="section level3" number="6.2.15">
<h3><span class="header-section-number">6.2.15</span> 选项钩子 (*) {#option-hook}</h3>
</div>
</div>
<div id="other-language" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> 与其他语言的结合</h2>
<div id="注册自定义语言引擎-register-language" class="section level3" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> 注册自定义语言引擎 (*) {#register-language}</h3>
</div>
<div id="python-rmd" class="section level3" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> 运行 Python 代码并与 Python 交互</h3>
</div>
<div id="cat-file" class="section level3" number="6.3.3">
<h3><span class="header-section-number">6.3.3</span> 通过 cat 引擎将块内容写入文件</h3>
</div>
<div id="sas-rmd" class="section level3" number="6.3.4">
<h3><span class="header-section-number">6.3.4</span> 运行 SAS 代码</h3>
</div>
<div id="stata-rmd" class="section level3" number="6.3.5">
<h3><span class="header-section-number">6.3.5</span> 运行 Stata 代码</h3>
</div>
<div id="asymptote-plot" class="section level3" number="6.3.6">
<h3><span class="header-section-number">6.3.6</span> 用渐近线 Asymptote 创建图形</h3>
</div>
<div id="sass-scss" class="section level3" number="6.3.7">
<h3><span class="header-section-number">6.3.7</span> 使用 Sass/SCSS 构建 HTML 页面</h3>
</div>
</div>
<div id="输出钩子-output-hook" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> 输出钩子 (*) {#output-hook}</h2>
<div id="edit-source" class="section level3" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> 编辑源代码</h3>
</div>
<div id="source-index" class="section level3" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> 向源代码中添加行号</h3>
</div>
<div id="scrollable-output" class="section level3" number="6.4.3">
<h3><span class="header-section-number">6.4.3</span> 可滚动的文本输出</h3>
</div>
<div id="truncated-output" class="section level3" number="6.4.4">
<h3><span class="header-section-number">6.4.4</span> 截断文本输出</h3>
</div>
<div id="html5-plot" class="section level3" number="6.4.5">
<h3><span class="header-section-number">6.4.5</span> 以HTML5格式输出图像</h3>
</div>
</div>
<div id="其它使用-knitr-的小技巧-other-trick" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> 其它使用 knitr 的小技巧 (*) {#other-trick}</h2>
<div id="reuse-chunk" class="section level3" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> 重复使用代码块</h3>
</div>
<div id="在创建对象之前使用它-use-creat" class="section level3" number="6.5.2">
<h3><span class="header-section-number">6.5.2</span> 在创建对象之前使用它 (*) {#use-creat}</h3>
</div>
<div id="compile-exit" class="section level3" number="6.5.3">
<h3><span class="header-section-number">6.5.3</span> 提前退出编译</h3>
</div>
<div id="plot-show-else" class="section level3" number="6.5.4">
<h3><span class="header-section-number">6.5.4</span> 生成一个图像并在其他地方显示</h3>
</div>
<div id="modify-before" class="section level3" number="6.5.5">
<h3><span class="header-section-number">6.5.5</span> 修改前一个代码块中的图像</h3>
</div>
<div id="保存一组块选项并重复使用它们-reuse-option" class="section level3" number="6.5.6">
<h3><span class="header-section-number">6.5.6</span> 保存一组块选项并重复使用它们 (*) {#reuse-option}</h3>
</div>
<div id="knit-expand" class="section level3" number="6.5.7">
<h3><span class="header-section-number">6.5.7</span> 使用 knitr::knit_expand() 来生成 Rmd 源代码</h3>
</div>
<div id="允许代码块中的标签重复-repeat-label" class="section level3" number="6.5.8">
<h3><span class="header-section-number">6.5.8</span> 允许代码块中的标签重复 (*) {#repeat-label}</h3>

</div>
</div>
</div>
<h3>参考文献</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-R-xtable" class="csl-entry">
Dahl, David B., David Scott, Charles Roosen, Arni Magnusson, and Jonathan Swinton. 2019. <em>Xtable: Export Tables to LaTeX or HTML</em>. <a href="http://xtable.r-forge.r-project.org/">http://xtable.r-forge.r-project.org/</a>.
</div>
<div id="ref-R-huxtable" class="csl-entry">
Hugh-Jones, David. 2021. <em>Huxtable: Easily Create and Style Tables for LaTeX, HTML and Other Formats</em>. <a href="https://hughjonesd.github.io/huxtable/">https://hughjonesd.github.io/huxtable/</a>.
</div>
<div id="ref-R-kableExtra" class="csl-entry">
Zhu, Hao. 2021. <em>kableExtra: Construct Complex Table with Kable and Pipe Syntax</em>. <a href="https://CRAN.R-project.org/package=kableExtra">https://CRAN.R-project.org/package=kableExtra</a>.
</div>
</div>
<div id="disqus_thread"></div>
<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://rmarkdown-guide.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </section>

          </div>
        </div>
      </div>
<a href="rmarkdown-interaction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rmarkdown-project.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cosname/rmarkdown-guide/edit/master/06-operation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
